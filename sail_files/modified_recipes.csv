ID,KEYS,VALUES
0,"Display a default value in some form inputs on a task form, and save the value to process when submitting.","a!formLayout(label:""Example: Default Value"",contents:{a!textField(label:""Case Title"",value:ri!title,saveInto:ri!title,required:true)},buttons:a!buttonLayout(primaryButtons:a!buttonWidget(label:""Submit"",submit:true)))"
1,Allow the user to change data directly in an inline editable grid.,"a!localVariables(/**local!employessisprovidedinthisrecipeasawaytostartwithhard-coded*data.However,thisdataisidenticaltothedatacreatedfromtheentity-backed*tutorial.Replacethehard-codeddatawithaquerytotheemployeedatastore*entityandalloftheemployeerecordsfromthetutorialwillappear.**Toreplacethisdatawithyourown,replace(ctrl+Horcmd+H)allreferencesto*local!employeeswithyourdatasource,eitherviaruleinputorlocalvariable.*/local!employees:{a!map(id:1,firstName:""John"",lastName:""Smith"",department:""Engineering"",title:""Director"",phoneNumber:""555-123-4567"",startDate:today()-360),a!map(id:2,firstName:""Michael"",lastName:""Johnson"",department:""Finance"",title:""Analyst"",phoneNumber:""555-987-6543"",startDate:today()-360),a!map(id:3,firstName:""Mary"",lastName:""Reed"",department:""Engineering"",title:""Software Engineer"",phoneNumber:""555-456-0123"",startDate:today()-240),},a!formLayout(label:""Example: Add,Update, or Remove Employee Data"",contents:{a!gridLayout(totalCount:count(local!employees),headerCells:{a!gridLayoutHeaderCell(label:""First Name""),a!gridLayoutHeaderCell(label:""Last Name""),a!gridLayoutHeaderCell(label:""Department""),a!gridLayoutHeaderCell(label:""Title""),a!gridLayoutHeaderCell(label:""Phone Number""),a!gridLayoutHeaderCell(label:""Start Date"",align:""RIGHT""),/*Forthe""Remove""column*/a!gridLayoutHeaderCell(label:"""")},/*Onlyneededwhensomecolumnsneedtobenarrow*/columnConfigs:{a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:2),a!gridLayoutColumnConfig(width:""ICON"")},/**a!forEach()willtakelocal!employeedataandusedthatdatatoloopthroughan*expressionthatcreateseachrow.**Whenmodifyingtherecipetoworkwithyourdata,youonlyneedtochange:*1.)thenumberoffieldsineachrow*2.)thetypesoffieldsforeachcolumn(i.e.a!textField()fortextdataelements)*3.)thefv!itemelements.Forexamplefv!item.firstNamewouldchangetofv!item.yourdata*/rows:a!forEach(items:local!employees,expression:a!gridRowLayout(contents:{/*FortheFirstNameColumn*/a!textField(/*Labelsarenotvisibleingridcellsbutarenecessarytomeetaccessibilityrequirements*/label:""first name ""&fv!index,value:fv!item.firstName,saveInto:fv!item.firstName,required:true),/*FortheLastNameColumn*/a!textField(label:""last name ""&fv!index,value:fv!item.lastName,saveInto:fv!item.lastName,required:true),/*FortheDepartmentColumn*/a!dropdownField(label:""department ""&fv!index,placeholder:""-- Select -- "",choiceLabels:{""Corporate"",""Engineering"",""Finance"",""Human Resources"",""Professional Services"",""Sales""},choiceValues:{""Corporate"",""Engineering"",""Finance"",""Human Resources"",""Professional Services"",""Sales""},value:fv!item.department,saveInto:fv!item.department,required:true),/*FortheTitleColumn*/a!textField(label:""title ""&fv!index,value:fv!item.title,saveInto:fv!item.title,required:true),/*ForthePhoneNumberColumn*/a!textField(label:""phone number ""&fv!index,placeholder:""555-456-7890"",value:fv!item.phoneNumber,saveInto:fv!item.phoneNumber),/*FortheStartDateColumn*/a!dateField(label:""start date ""&fv!index,value:fv!item.startDate,saveInto:fv!item.startDate,required:true,align:""RIGHT""),/*FortheRemovalColumn*/a!richTextDisplayField(value:a!richTextIcon(icon:""close"",altText:""delete ""&fv!index,caption:""Remove ""&fv!item.firstName&"" ""&fv!item.lastName,link:a!dynamicLink(value:fv!index,saveInto:{a!save(local!employees,remove(local!employees,save!value))}),linkStyle:""STANDALONE"",color:""NEGATIVE""))},id:fv!index)),addRowlink:a!dynamicLink(label:""Add Employee"",/**Foryourusecase,setthevaluetoablankinstanceofyourCDTusing*thetypeconstructor,e.g.type!Employee().Onlyspecifythefield*ifyouwanttogiveitadefaultvaluee.g.startDate:today()+1.*/value:{startDate:today()+1},saveInto:{a!save(local!employees,append(local!employees,save!value))}),rowHeader:1)},buttons:a!buttonLayout(primaryButtons:a!buttonWidget(label:""Submit"",submit:true))))"
2,"In an inline editable grid, track the employees that are added for further processing in the next process steps.","a!localVariables(/*Inarealapp,thesevaluesshouldbeheldinthedatabaseorinaconstant*/local!departments:{""Corporate"",""Engineering"",""Finance"",""HR"",""Professional Services"",""Sales""},/**local!employeesisprovidedinthisrecipeasawaytostartwithhard-coded*data.However,thisdataisidenticaltothedatacreatedfromtheentity-backed*tutorial.Replacethehard-codeddatawithaquerytotheemployeedatastore*entityandalloftheemployeerecordsfromthetutorialwillappear.**Toreplacethisdatawithyourown,replace(ctrl+Horcmd+H)allreferencesto*local!employeeswithyourdatasource,eitherviaruleinputorlocalvariable.*/local!employees:{a!map(id:1,firstName:""John"",lastName:""Smith"",department:""Engineering"",title:""Director"",phoneNumber:""555-123-4567"",startDate:today()-360),a!map(id:2,firstName:""Michael"",lastName:""Johnson"",department:""Finance"",title:""Analyst"",phoneNumber:""555-987-6543"",startDate:today()-360),a!map(id:3,firstName:""Mary"",lastName:""Reed"",department:""Engineering"",title:""Software Engineer"",phoneNumber:""555-456-0123"",startDate:today()-240)},local!deletedEmployeeIds,a!formLayout(label:""Example: Inline Editable Grid Tracking Adds and Deletes"",contents:{a!gridLayout(totalCount:count(local!employees),headerCells:{a!gridLayoutHeaderCell(label:""First Name""),a!gridLayoutHeaderCell(label:""Last Name""),a!gridLayoutHeaderCell(label:""Department""),a!gridLayoutHeaderCell(label:""Title""),a!gridLayoutHeaderCell(label:""Phone Number""),a!gridLayoutHeaderCell(label:""Start Date"",align:""RIGHT""),/*Forthe""Remove""column*/a!gridLayoutHeaderCell(label:"""")},/*Onlyneededwhensomecolumnsneedtobenarrow*/columnConfigs:{a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:2),a!gridLayoutColumnConfig(width:""ICON"")},/**a!forEach()willtakelocal!employeedataandusedthatdatatoloopthroughan*expressionthatcreateseachrow.**Whenmodifyingtherecipetoworkwithyourdata,youonlyneedtochange:*1.)thenumberoffieldsineachrow*2.)thetypesoffieldsforeachcolumn(i.e.a!textField()fortextdataelements)*3.)thefv!itemelements.Forexamplefv!item.firstNamewouldchangetofv!item.yourdata*/rows:a!forEach(items:local!employees,expression:a!gridRowLayout(contents:{/*FortheFirstNameColumn*/a!textField(/*Labelsarenotvisibleingridcellsbutarenecessarytomeetaccessibilityrequirements*/label:""first name ""&fv!index,value:fv!item.firstName,saveInto:fv!item.firstName,required:true),/*FortheLastNameColumn*/a!textField(label:""last name ""&fv!index,value:fv!item.lastName,saveInto:fv!item.lastName,required:true),/*FortheDepartmentColumn*/a!dropdownField(label:""department ""&fv!index,placeholder:""-- Please Select-- "",choiceLabels:local!departments,choiceValues:local!departments,value:fv!item.department,saveInto:fv!item.department,required:true),/*FortheTitleColumn*/a!textField(label:""title ""&fv!index,value:fv!item.title,saveInto:fv!item.title,required:true),/*ForthePhoneNumberColumn*/a!textField(label:""phone number ""&fv!index,placeholder:""555-456-7890"",value:fv!item.phoneNumber,saveInto:fv!item.phoneNumber,validations:if(len(fv!item.phoneNumber)>12,""Contains more than 12 characters. Please reenter phone number, and include only numbers and dashes"",null)),/*FortheStartDateColumn*/a!dateField(label:""start date ""&fv!index,value:fv!item.startDate,saveInto:fv!item.startDate,required:true,align:""RIGHT""),/*FortheRemovalColumn*/a!imageField(label:""delete ""&fv!index,images:a!documentImage(document:a!iconIndicator(""REMOVE""),altText:""Remove Employee"",caption:""Remove ""&fv!item.firstName&"" ""&fv!item.lastName,link:a!dynamicLink(value:fv!index,saveInto:{if(isnull(fv!item.id),{},a!save(local!deletedEmployeeIds,append(local!deletedEmployeeIds,fv!item.id))),a!save(local!employees,remove(local!employees,save!value))})),size:""ICON"")},id:fv!index)),addRowlink:a!dynamicLink(label:""Add Employee"",/**Foryourusecase,setthevaluetoablankinstanceofyourCDTusing*thetypeconstructor,e.g.type!Employee().Onlyspecifythefield*ifyouwanttogiveitadefaultvaluee.g.startDate:today()+1.*/value:{firstName:"""",lastName:"""",department:"""",title:"""",phoneNumber:"""",startDate:today()+1},saveInto:{a!save(local!employees,append(local!employees,save!value))}),/*Thisvalidationpreventsexistingemployeestartdatefromchangingtoadateinthefuture*/validations:if(a!forEach(items:local!employees,expression:and(not(isnull(fv!item.id)),todate(fv!item.startDate)>today())),""Existing Employees cannot have an effective start date beyond today"",null),rowHeader:1),a!textField(label:""New Employees"",labelPosition:""ADJACENT"",value:joinarray(index(local!employees,where(a!forEach(local!employees,isnull(fv!item.id))),{}),char(10)),readOnly:true),a!textField(label:""Deleted Employees"",labelPosition:""ADJACENT"",value:local!deletedEmployeeIds,readOnly:true)},buttons:a!buttonLayout(primaryButtons:a!buttonWidget(label:""Submit"",submit:true))))"
3,"Add and populate a dynamic number of sections, one for each item in a CDT array.","a!localVariables(/*Asectionwillbecreatedforeverylabelvaluearraypresent*/local!records:{'type!{http://www.appian.com/ae/types/2009}LabelValue'()},{a!forEach(items:local!records,expression:a!sectionLayout(label:""Section ""&fv!index,contents:{a!textField(label:""Label"",instructions:if(fv!isLast,""Value of local!records: ""&local!records,{}),value:fv!item.label,saveInto:{fv!item.label,if(fv!isLast,/*Thisvalueappendsanewsectionarraytosection*/a!save(local!records,append(local!records,cast(typeof(local!records),null))),{})},refreshAfter:""KEYPRESS""),a!textField(label:""Value"",value:fv!item.value,saveInto:fv!item.value,refreshAfter:""KEYPRESS""),a!buttonArrayLayout(a!buttonWidget(label:""Remove"",value:fv!index,saveInto:{a!save(local!records,remove(local!records,fv!index))},showWhen:not(fv!isLast)))}))})"
4,"Enforce that the user enters at least a certain number of characters in their text field, and also enforce that it contains the ""@"" character.","a!localVariables(local!varA,a!formLayout(label:""Example: Multiple Validation Rules on One Component"",contents:{a!textField(label:""Text"",instructions:""Enter at least 5 characters, and include the @ character"",value:local!varA,saveInto:local!varA,validations:{if(len(local!varA)>=5,null,""Enter at least 5 characters""),if(isnull(local!varA),null,if(find(""@"",local!varA)<>0,null,""You need an @ character!""))})},buttons:a!buttonLayout(primaryButtons:a!buttonWidget(label:""Submit"",submit:true))))"
5,"This recipe provides a common configuration of the [Gauge Component](Gauge_Component.md) using [a!gaugeFraction()](Gauge_Fraction_Component.md) and [a!gaugePercentage()](Gauge_Percentage_Component.md), and includes a walkthrough that demonstrates the benefits of using design mode when configuring the gauge component.","a!localVariables(local!tasksCompleted:5,local!totalTasks:11,{a!sectionLayout(label:""My Tasks"",contents:{})})"
6,"This pattern illustrates how to create two different charts. One chart shows sales (calculated in US dollars) by country and the currency paid. The other shows sales by currency type, comparing the number of sales paid in US dollars versus the local currency.","a!customFieldDefaultValue(value:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.relationships.{e84d7c2c-3d92-49ad-a683-3d77c4287c14}currencyRate.relationships.{49d04656-5c49-4793-beab-acff7bf3ff9b}toCurrency.fields.{3355f795-4a22-413e-a1bc-5d22269e4ae4}name',default:""US Dollars"")"
7,Show a dynamic number of files in a grid and edit certain file attributes.,"a!localVariables(/**local!filesarestoredinaconstanthere.However,thissourcewouldtypicallycomefrom*processdataorqueriedfromarelationaldatabase.local!fileMapsimulatesadata*structurethatwouldtypicallyholdfilemetadata.*/local!files:cons!DOCUMENT_GIF_IMAGE,local!fileMap:a!forEach(items:local!files,expression:a!map(file:fv!item,fileCategory:"""",newFileName:document(fv!item,""name""),newFileDescription:document(fv!item,""description""))),a!sectionLayout(contents:{a!gridLayout(label:""Example: Display Multiple Files in a Grid"",totalCount:count(local!files),headerCells:{a!gridLayoutHeaderCell(label:""File""),a!gridLayoutHeaderCell(label:""Name""),a!gridLayoutHeaderCell(label:""Description""),a!gridLayoutHeaderCell(label:""Category""),a!gridLayoutHeaderCell(label:""Size (KB)"",align:""RIGHT"")},columnConfigs:{a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:2),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:2),},rows:a!forEach(items:local!fileMap,expression:a!gridRowLayout(contents:{a!linkField(/*Labelsarenotvisibleingridcellsbutarenecessarytomeetaccessibilityrequirements*/label:""File""&fv!index,links:a!documentDownloadLink(label:document(fv!item.file,""name"")&"".""&document(fv!item.file,""extension""),document:fv!item.file),value:fv!item.newFileName,readOnly:true),a!textField(label:""File Name ""&fv!index,value:fv!item.newFileName,saveInto:fv!item.newFileName),a!textField(label:""Description ""&fv!index,value:fv!item.newFileDescription,saveInto:fv!item.newFileDescription,readOnly:false),a!dropdownField(label:""category ""&fv!index,placeholder:""-- Please Select--"",choiceLabels:{""Resume"",""Cover Letter"",""Other""},choiceValues:{""Resume"",""Cover Letter"",""Other""},value:fv!item.fileCategory,saveInto:fv!item.fileCategory),a!textField(label:""title ""&fv!index,value:round(document(fv!item.file,""size"")/1000),align:""RIGHT"",readOnly:true)},id:fv!index)),rowHeader:2),a!textField(label:""Value of Document Dictionary"",readOnly:true,value:local!fileMap)}))"
8,Show a dynamic number of text components to simulate a multi-text input box. A new text box is shown as soon as the user starts typing into the last input box.,"a!localVariables(local!guests:{""""},a!formLayout(label:""Example: Add Text Components Dynamically"",contents:{a!forEach(items:local!guests,expression:a!textField(label:if(fv!isFirst,""Guest Names"",""""),value:fv!item,saveInto:{fv!item,if(fv!isLast,a!save(local!guests,append(local!guests,"""")),{})},refreshAfter:""KEYPRESS""))},buttons:a!buttonLayout(primaryButtons:a!buttonWidget(label:""Submit"",submit:true))))"
9,Conditionally hide a column in a read-only grid when all data for that column is a specific value.,"a!localVariables(/*Inyourapplication,replacethevaluesdefinedbylocal!departments*withaconstantthatstoresthefiltervaluesyouwanttouseinyour*grid.Thenusecons!<constantname>toreferencetheconstantin*local!departments.*/local!departments:{""Corporate"",""Engineering"",""Finance"",""HR"",""Professional Services"",""Sales""},/*Usealocalvariabletoholdthenameofthedepartmentfilterthe*userselectsinthefilterdropdown.Thisexample,uses*local!selectedDepartment*/local!selectedDepartment,{a!sectionLayout(label:"""",contents:{a!richTextDisplayField(value:{a!richTextItem(/*ThedepartmentnameisappendedtoEmployeesanddisplayed*onlywhentheuserselectsadepartmentfilterinthe*dropdownlist.*/text:{""Employees""&if(isnull(local!selectedDepartment),null,"" in ""&upper(local!selectedDepartment))},size:""MEDIUM"",style:{""STRONG""})}),a!columnsLayout(columns:{a!columnLayout(contents:{/*WeusedthedropdownField()componenttocreatean*adhocuserfilterforthegrid.Itpullsinthe*departmentnamesstoredinlocal!departmentsas*choiceLabelsandchoiceValuesandsavesthefilter*valueselectedbytheuserinlocal!selectedDepartment.*/a!dropdownField(label:""Department "",placeholder:""-- Filter By Department -- "",choiceLabels:local!departments,choiceValues:local!departments,value:local!selectedDepartment,saveInto:local!selectedDepartment)},width:""NARROW_PLUS"")}),a!gridField(data:a!recordData(recordType:recordType!Employee,filters:a!queryLogicalExpression(operator:""AND"",filters:{a!queryFilter(field:recordType!Employee.fields.department,operator:""="",value:local!selectedDepartment)},ignoreFiltersWithEmptyValues:true)),columns:{a!gridColumn(label:""First Name"",sortField:recordType!Employee.fields.firstName,value:fv!row[recordType!Employee.fields.firstName]),a!gridColumn(label:""Last Name"",sortField:recordType!mployee.fields.lastName,value:fv!row[recordType!Employee.fields.lastName]),a!gridColumn(label:""Department"",sortField:recordType!Employee.fields.department,value:fv!row[recordType!Employee.fields.department],/*TheDepartmentcolumnisshownonlywhentheuserhasnot*selectedadepartmentfilterinthedropdownlist.*/showWhen:isnull(local!selectedDepartment)),a!gridColumn(label:""Title"",sortField:recordType!Employee.fields.title,value:fv!row[recordType!Employee.fields.title]),/*ThePhoneNumbercolumnisshownwhentheuserselects*aDepartmentfilter.*/a!gridColumn(label:""Phone Number"",sortField:recordType!Employee.fields.phoneNumber,value:fv!row[recordType!Employee.fields.phoneNumber],showwhen:not(isnull(local!selectedDepartment)))})})})"
10,Limit the number of rows that can be selected to one.,"a!localVariables(local!selection,local!selectedRows,{/*Gridswithselectionshouldalwayshaveasecondarydisplayofthatselectionwhenthereispagingsousersarealwaysabletoseetheirselectionsevenwhenthatselectionisnotonthecurrent,visiblepage.*/a!gridField(label:""Single Selection"",labelPosition:""ABOVE"",data:recordType!Employee,columns:{a!gridColumn(label:""ID"",sortField:recordType!Employee.fields.id,value:fv!row[recordType!Employee.fields.id],align:""END"",width:""ICON""),a!gridColumn(label:""Name"",sortField:recordType!Employee.fields.lastName,value:fv!row[recordType!Employee.fields.firstName]&"" ""&fv!row[recordType!Employee.fields.lastName]),a!gridColumn(label:""Title"",sortField:recordType!Employee.fields.title,value:fv!row[recordType!Employee.fields.title])},pageSize:5,selectable:true,selectionstyle:""ROW_HIGHLIGHT"",selectionvalue:local!selection,selectionSaveInto:{/*Herewesavefv!selectedRowstolocal!selectedRows.Toensurethatonlyasinglerowisselectedwhentheuserclickstooquickly,weusetheindex()functiontoreturnonlythelastselectedvalue.*/a!save(local!selectedRows,index(fv!selectedRows,length(fv!selectedRows),null)),a!save(local!selection,index(save!value,length(save!value),null))},validations:{},showSearchBox:false,showRefreshButton:false,recordActions:{})})"
11,"Display the membership tree for a given group and provide users with the ability to add, remove, and move user members from a single interface.","a!localVariables(local!selectionValue,local!isUserSelected:runtimetypeof(local!selectionValue)='type! {http://www.appian.com/ae/types/2009}User',local!actionTaken:if(isnull(ri!btnAction),false,or(ri!btnAction=""ADD"",ri!btnAction=""MOVE"")),local!navigationLength:if(isnull(ri!navigationPath),0,length(ri!navigationPath)),a!formLayout(label:""Manage Group Membership"",contents:{/*Ifyouusethisasarelatedaction,ratherthanusingthispickertochoosetheinitalgroup,youwouldpassitinascontextfortheaction.*/a!pickerFieldGroups(label:""Select a group to view its members"",maxSelections:1,value:ri!initialGroup,saveInto:{ri!initialGroup,a!save({ri!btnAction,ri!userToRemove,ri!userToMove,ri!addedToGroup,ri!removeFromGroup,ri!navigationPath,ri!moveFromGroup,ri!moveToGroup,ri!usersToAdd,local!selectionValue},null)}),a!sectionLayout(showWhen:not(isnull(ri!initialGroup)),label:group(ri!initialGroup,""groupName"")&"" Group Members"",contents:{a!buttonArrayLayout(buttons:{a!buttonWidget(label:""Add Members"",disabled:or(local!actionTaken,local!navigationLength=0),value:""ADD"",saveInto:{ri!btnAction,a!save(ri!addedToGroup,if(/*Iftheuserhasnotnavigatedanywhere,ortheuserhasclickedonauserinthefirstcolumn,savetheintialgroup*/or(local!navigationLength=0,and(local!navigationLength=1,local!isUserSelected)),ri!initialGroup,if(/*Ifauserisselectedsavethelastgroupinthepath*/local!isUserSelected,togroup(ri!navigationPath[local!navigationLength-1])/*Otherwisesavetheendofthepath*/togroup(ri!navigationPath[local!navigationLength]))))}),a!buttonWidget(label:""Remove Member"",value:""REMOVE"",saveInto:{ri!btnAction,a!save(ri!userToRemove,local!selectionValue),/*Sinceauserneedstoberemovedfromagroup,thebuttonneedstodeterminewhatgrouptheusershouldberemovedfrom.*/a!save(ri!removeFromGroup,if(/*Iftheuserisonthefirstcolumn,savetheinitialgroup*/local!navigationLength=1,ri!initialGroup,/*Otherwisesavethegroupcontainingtheselecteduser*/ri!navigationPath[local!navigationLength-1])),/*Thisnavigationpathwillbeusedtopre-populatethegroupbrowserwhentheuserreturnstothisinterfaceaftertheselecteduserhasbeenremoved.Therefore,wemustremovetheselecteduserfromthenavigationpathtopreventanerror.*/a!save(ri!navigationPath,rdrop(ri!navigationPath,1))},disabled:or(local!actionTaken,not(local!isUserSelected)),submit:true),a!buttonWidget(label:""Move Member"",style:""NORMAL"",disabled:or(local!actionTaken,not(local!isUserSelected)),value:""MOVE"",saveInto:{ri!btnAction,a!save(ri!userToMove,local!selectionValue),/*Sinceauserneedstoberemovedfromagroup,thebuttonneedstodeterminewhatgrouptheusershouldberemovedfrom.*/a!save(ri!moveFromGroup,if(/*Iftheuserisinthefirstcolumnsavetheinitialgroup.*/local!navigationLength=1,ri!initialGroup,/*Otherwisesavethelastgroupinthenavigationpath*/ri!navigationPath[local!navigationLength-1])),a!save(ri!navigationPath,rdrop(ri!navigationPath,1)),a!save(ri!moveToGroup,ri!moveFromGroup)})}),/*Afterselectingamembertomove,theinterfaceneedstoallowtheusertoselectagrouptomovethememberto.Tolimitwhatcanbeselectedtoagroupandnotauser,weswitchthecomponenttoagroupbrowser*/a!groupBrowserFieldColumns(labelPosition:""COLLAPSED"",showWhen:ri!btnAction=""MOVE"",rootGroup:ri!initialGroup,pathValue:ri!navigationPath,pathSaveInto:ri!navigationPath,selectionValue:ri!moveToGroup,selectionSaveInto:ri!moveToGroup),/*Unlesstheuserisintheprocessofmovingmembers,theuserhastheoptiontoselectausertomoveorremoveoragrouptoaddmembersto.*/a!userAndGroupBrowserFieldColumns(labelPosition:""COLLAPSED"",showWhen:not(ri!btnAction=""MOVE""),rootGroup:ri!initialGroup,pathValue:ri!navigationPath,pathSaveInto:ri!navigationPath,selectionValue:local!selectionValue,selectionSaveInto:local!selectionValue,readOnly:or(ri!btnAction=""ADD"",ri!btnAction=""REMOVE"")),/*Navigationcannotbeclearedwithoutconfiguration,sothislinkletstheuseraddmemberstotheinitialgroup.*/a!linkField(labelPosition:""COLLAPSED"",showWhen:not(local!actionTaken),links:{a!dynamicLink(label:""+ Add Users to ""&group(ri!initialGroup,""groupName""),value:""ADD"",saveInto:{ri!btnAction,a!save(ri!addedToGroup,ri!initialGroup)})})}),a!sectionLayout(label:""Add Users to ""&group(ri!addedToGroup,""groupName""),showWhen:ri!btnAction=""ADD"",contents:{a!pickerFieldUsers(label:""Users to Add"",value:ri!usersToAdd,saveInto:a!save(ri!usersToAdd,getdistinctusers(save!value)),required:true)}),a!sectionLayout(label:""Move User"",showWhen:ri!btnAction=""MOVE"",contents:{a!richTextDisplayField(labelPosition:""COLLAPSED"",value:{""Move "",a!richTextItem(text:user(ri!userToMove,""firstName"")&"" ""&user(ri!userToMove,""lastName""),style:""STRONG""),"" from "",a!richTextItem(text:group(ri!moveFromGroup,""groupName""),style:""STRONG""),"" to""},readOnly:true),a!pickerFieldGroups(labelPosition:""COLLAPSED"",groupFilter:ri!initialGroup,value:ri!moveToGroup,saveInto:ri!moveToGroup,required:true)}),a!buttonLayout(showWhen:local!actionTaken,primaryButtons:{a!buttonWidget(label:if(ri!btnAction=""ADD"",""Add Users"",""Move User""),style:""PRIMARY"",disabled:if(ri!btnAction=""MOVE"",or(ri!moveFromGroup=ri!moveToGroup,isnull(ri!moveToGroup)),if(isnull(ri!usersToAdd),true,length(ri!usersToAdd)=0)),submit:true)},secondaryButtons:{/*Allowstheusertocanceltheselectedaction.Iftheusercancelsoutoftheaction,weneedtoclearalltheselectionvariables*/a!buttonWidget(label:""Cancel"",style:""NORMAL"",showWhen:local!actionTaken,value:null,saveInto:{ri!btnAction,ri!userToMove,ri!userToRemove,ri!addedToGroup,ri!removeFromGroup,ri!moveFromGroup,ri!moveToGroup,ri!usersToAdd,local!selectionValue})})},buttons:a!buttonLayout(primaryButtons:{a!buttonWidget(label:""Close"",value:""CLOSE"",saveInto:ri!btnAction,submit:true,validate:false)})))"
12,Configure a record action with the [Sync Records](Sync_Records_Smart_Service.md) smart service so users can sync a set of records on demand.,"a!queryRecordType(recordType:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order',fields:{'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.fields.{262bb249-cf34-4171-a573-54831d0958dd}orderId'},filters:a!queryLogicalExpression(operator:""AND"",filters:{a!queryFilter(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.relationships.{ae938f73-f61f-483d-8ca0-65d3c911abae}salesRegion.fields.{2aadab0c-4cbe-4ed4-ad0a-d6da6e08e2f2}name',operator:""="",value:""Northwest""),a!queryFilter(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.fields.{fbcc99f6-1ddf-4923-903b-18122a1737c6}orderDate',operator:""between"",value:/*Month-to-Date*/{toDatetime(eomonth(today(),-1)+1),now()})},ignoreFiltersWithEmptyValues:true),pagingInfo:a!pagingInfo(startIndex:1,batchSize:500)).data['recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.fields.{262bb249-cf34-4171-a573-54831d0958dd}orderId']"
13,"Allow users to choose from a long text array using an autocompleting picker, but also allow them to see the entire choice set using a dropdown.","a!localVariables(local!matches:where(a!forEach(items:ri!labels,expression:search(ri!filter,fv!item))),a!dataSubset(data:index(ri!labels,local!matches),identifiers:index(ri!identifiers,local!matches)))"
14,"Alert the user about form problems that aren't specific to one component, showing the message only when the user clicks ""Submit"".","a!localVariables(local!phone,local!email,a!formLayout(label:""Example: Showing Form Errors on Submission"",contents:{a!textField(label:""Phone Number"",value:local!phone,saveInto:local!phone),a!textField(label:""Email Address"",value:local!email,saveInto:local!email)},buttons:a!buttonLayout(primaryButtons:a!buttonWidget(label:""Submit"",submit:true)),/**Thisvalidationoccursattheformlevelandisusefulwhentheformor*section's validation checks are non-field specific.
    */
    validations: {
      if(
        and(isnull(local!phone), isnull(local!email)),
        a!validationMessage(
          message: ""Youmustentereitheraphonenumberoranemailaddress!"",
          validateAfter: ""SUBMIT""
        ),
        {}
      )
    }
  )
)
"
15,Delete one or more rows of data in a read-only grid.,"a!localVariables(/*Thisvariablestoresthegrid's selection. */
  local!selection,
  /* This variable stores the row information for the grid'sselection.*/local!selectedRows,/*ThisvariablestorestheIDsoftherowsthatwereremovedviatheREMOVEbuttontofilteroutthoserowsfromthegrid.ItcanalsobeusedtopasstheseIDstoaprocesstoremovethemfromthesourceentity.*/local!removedIds,{a!buttonArrayLayout(buttons:{a!buttonWidget(label:""REMOVE"",saveinto:{/*AppendtheselectedrowsIDstothelocal!removedIdsvariable.*/a!save(local!removedIds,append(local!removedIds,local!selectedRows[recordType!Employee.fields.id])),/*Resetlocal!selectedRowssootherrowscanberemoved.*/a!save(local!selectedRows,null),/*Resetthegridselectionaswell.*/a!save(local!selection,null)},style:""NORMAL"",/*Disablethebuttoniflocal!selectedRowsisempty.*/disabled:if(or(isnull(local!selectedRows),length(local!selectedRows)<1),true,false))},align:""START""),a!gridField(label:""Grid with Removable Rows"",/*TherecordDatafunctionallowsustofiltertherecorddata.*/data:a!recordData(recordType:recordType!Employee,/*ThisqueryfilterappliestoallrowswheretherowIDisfoundinlocal!removedRows.*/filters:a!queryFilter(field:recordType!Employee.fields.id,operator:if(isnull(local!removedIds),""not null"",""not in""),value:local!removedIds)),columns:{a!gridColumn(label:""ID"",sortField:recordType!Employee.fields.id,value:fv!row[recordType!Employee.fields.id],align:""END"",width:""ICON""),a!gridColumn(label:""First Name"",sortField:recordType!Employee.fields.firstName,value:fv!row[recordType!Employee.fields.firstName]),a!gridColumn(label:""lastName"",sortField:recordType!Employee.fields.lastName,value:fv!row[recordType!Employee.fields.lastName]),a!gridColumn(label:""Department"",sortField:recordType!Employee.fields.department,value:fv!row[recordType!Employee.fields.department]),a!gridColumn(label:""Title"",sortField:recordType!Employee.fields.title,value:fv!row[recordType!Employee.fields.title])},selectable:true,selectionStyle:""ROW_HIGHLIGHT"",selectionValue:local!selection,selectionSaveInto:{local!selection,/*Addrowdatatolocal!selectedRowslistwhenthatrowisselectedbytheuser.*/a!save(local!selectedRows,append(local!selectedRows,fv!selectedRows)),/*Removerowdatafromlocal!selectedRowswhenthatrowisdeselectedbytheuser.*/a!save(local!selectedRows,difference(local!selectedRows,fv!deselectedRows))},showSearchBox:false,showRefreshButton:false)})"
16,Display a hierarchical data browser.,"a!localVariables(/*Thisissampledatafortherecipe.Inyourcolumnsbrowsercomponent,you'll use data from other sources, like records or entities.
  */
  local!regions:{
    'type!{urn:com:appian:types}EXAMPLE_Region'( id: 1, name: ""NorthAmerica"" ),
    'type!{urn:com:appian:types}EXAMPLE_Region'( id: 2, name: ""SouthAmerica"" ),
    'type!{urn:com:appian:types}EXAMPLE_Region'( id: 3, name: ""EMEA"" ),
    'type!{urn:com:appian:types}EXAMPLE_Region'( id: 4, name: ""APAC"" )
  },
  local!accountExecs:{
    'type!{urn:com:appian:types}EXAMPLE_AccountExec'( id: 1, firstName: ""Susan"",  lastName: ""Taylor"", regionId: 1 ),
    'type!{urn:com:appian:types}EXAMPLE_AccountExec'( id: 2, firstName: ""Sharon"", lastName: ""Hill"",   regionId: 3 ),
    'type!{urn:com:appian:types}EXAMPLE_AccountExec'( id: 3, firstName: ""Kevin"",  lastName: ""Singh"",  regionId: 2 ),
    'type!{urn:com:appian:types}EXAMPLE_AccountExec'( id: 4, firstName: ""Daniel"", lastName: ""Lewis"",  regionId: 3 )
  },
  local!customers:{
    'type!{urn:com:appian:types}EXAMPLE_Customer'( id: 1, name: ""Lebedev"",         accountExecId: 2 ),
    'type!{urn:com:appian:types}EXAMPLE_Customer'( id: 2, name: ""ParsecExpress"",  accountExecId: 3 ),
    'type!{urn:com:appian:types}EXAMPLE_Customer'( id: 3, name: ""DengarDynamics"", accountExecId: 2 ),
    'type!{urn:com:appian:types}EXAMPLE_Customer'( id: 4, name: ""Almach"",          accountExecId: 1 )
  },
  local!path,
  local!selection,
  a!sectionLayout(
    contents:{
      a!hierarchyBrowserFieldColumns(
        label: ""InterfaceRecipe:ColumnsBrowser"",
        /*
        This data comes from a local variable for the recipe. Substitute your
        rule here when you make your own columns browser component.
        */
        firstColumnValues: local!regions,
        /*
        This is where you specify how a node appears in the browser given
        its type. If the node is a region, show the name field. If the node 
        is an account executive, show the first name and last name fields.
        */
        nodeConfigs: if(
          typeof(fv!nodeValue) = 'type!{urn:com:appian:types}EXAMPLE_Region',      
          a!hierarchyBrowserFieldColumnsNode(
            id: fv!nodeValue.id,
            label: fv!nodeValue.name,
            image: a!documentImage(document: a!iconIndicator(""HARVEY_0""))
          ),
          if(
            typeof(fv!nodeValue) = 'type!{urn:com:appian:types}EXAMPLE_AccountExec',
            a!hierarchyBrowserFieldColumnsNode(
              id: fv!nodeValue.id,
              label: fv!nodeValue.firstName & """" & fv!nodeValue.lastName,
              image: a!documentImage(document: a!iconIndicator(""HARVEY_50""))
            ),
            if(
              typeof(fv!nodeValue)='type!{urn:com:appian:types}EXAMPLE_Customer',
              a!hierarchyBrowserFieldColumnsNode(
                id: fv!nodeValue.id,
                label: fv!nodeValue.name,
                image: a!documentImage(document: a!iconIndicator(""HARVEY_100"")),
                isDrillable: false
              ),
              {}
            )
          )
        ),
        pathValue: local!path,
        pathSaveInto: local!path,
        nextColumnValues: if(     
          /*
          Check to see if the node is a region. If so, look up account 
          executives for that region. Substitute your type and rule here.
          */    
          typeof(fv!nodeValue)='type!{urn:com:appian:types}EXAMPLE_Region',
          index(local!accountExecs, wherecontains(fv!nodeValue.id, local!accountExecs.regionId), {}),
          if(          
            /*
            Check to see if the node is an account executive. If so, look up customers 
            for that account executive. Substitute your type and rule here.
            */       
            typeof(fv!nodeValue)='type!{urn:com:appian:types}EXAMPLE_AccountExec',
            index(local!customers, wherecontains(fv!nodeValue.id, local!customers.accountExecId), {}),
            {}
          )
        ),
        selectionValue: local!selection,
        selectionSaveInto: local!selection,
        height: ""SHORT""
      ),
      a!textField(
        label: ""path"",
        instructions: typename(typeof(local!path)),
        value: local!path,
        readOnly: true
      ),
      a!textField(
        label: ""selection"",
        instructions: typename(typeof(local!selection)),
        value: local!selection,
        readOnly: true
      )
    }
  )
)
"
17,"Aggregate data and conditionally display it in a pie chart or grid. In this pattern, we will calculate the total number of employees in each department and display it in a pie chart and a read-only grid. Then, we'll use a link field to conditionally display each component.","a!localVariables(/*ThisvariableissettotrueinitiallyandisreferencedintheshowWhenparametersforthepiechartandinverselyinthegrid.Thedynamiclinkattheendreversesthisvalueonclick.*/local!displayAsChart:true,/*Sincewewanttopassthedatatothepiechartandthegrid,wequeryforthedatainalocalvariable.Otherwise,wewouldjustquerydirectlyfromthedataparameterofthegridField().*/local!datasubset:a!queryRecordType(recordType:recordType!Employee,fields:a!aggregationFields(groupings:a!grouping(field:recordType!Employee.fields.department,alias:""department""),measures:a!measure(field:recordType!Employee.fields.id,function:""COUNT"",alias:""id_count"")),pagingInfo:a!pagingInfo(startIndex:1,batchSize:5000)),{a!pieChartField(series:{a!forEach(items:local!datasubset.data,expression:a!chartSeries(label:fv!item.department,data:fv!item.id_count))},colorScheme:""BERRY"",style:""DONUT"",seriesLabelStyle:""LEGEND"",/*Sincetheinitialvalueistrue,thepiechartdisplaysonload.Wecouldchangetheinitialvalueoflocal!displayAsCharttoswapthatbehaviorwithouthavingtootherwisechangethelogicofthisinterface.*/showWhen:local!displayAsChart),a!gridField(data:local!datasubset.data,columns:{a!gridColumn(label:""Department"",sortField:""department"",value:fv!row.department),a!gridColumn(label:""Total"",sortField:""id_count"",value:fv!row.id_count)},/*Herethegridonlyshowswhenlocal!displayAsChartisnottrue.*/showWhen:not(local!displayAsChart),rowHeader:1),a!linkField(labelPosition:""COLLAPSED"",links:a!dynamicLink(label:""Show as ""&if(local!displayAsChart,""Grid"",""Chart""),/*Thenot()functionsimplyconvertsatruetofalse,orfalsetotrue,whichsimplifiesthetogglebehavior.*/value:not(local!displayAsChart),saveInto:local!displayAsChart),align:""CENTER"")})"
18,Automatically update a variable when its dependencies change until the user saves their own value into that variable.,"a!localVariables(local!startDate:today(),local!endDateEdited:false,local!endDate:a!refreshVariable(value:local!startDate+7,refreshOnReferencedVarChange:not(local!endDateEdited)),{a!dateField(label:""Start Date"",value:local!startDate,saveInto:local!startDate),a!dateField(label:""End Date"",value:local!endDate,saveInto:{local!endDate,a!save(local!endDateEdited,true)})})"
19,Set the default value of a variable based on what the user enters in another component.,"a!localVariables(local!username,local!email,local!emailModified:false,a!formLayout(label:""Example: Default Value Based on User Input"",contents:{a!textField(label:""Username"",instructions:""Value saved: ""&local!username,value:local!username,saveInto:{local!username,if(local!emailModified,{},a!save(local!email,append(save!value,""@example.com"")))},refreshAfter:""KEYPRESS""),a!textField(label:""Email"",instructions:""Value saved: ""&local!email,value:local!email,saveInto:{local!email,a!save(local!emailModified,true)})},buttons:a!buttonLayout(primaryButtons:a!buttonWidget(label:""Submit"",submit:true))))"
20,Dynamically show a star rating based on a numeric score.,"a!localVariables(local!score:5.88,local!limit:10,a!richTextDisplayField(value:{a!forEach(items:enumerate(local!limit)+1,expression:a!richTextIcon(color:""ACCENT"",icon:if(fv!index<=local!score,""star"",if(fv!index-1<local!score,""star-half-o"",""star-o""))))}))"
21,"Allow end users to click a link in a read-only grid to view the details for the row, and make changes to the data.","=webservicequery(a!wsConfig(wsdlUrl:""http://localhost:8080/axis2/services/CorporateDirectoryService?wsdl"",service:""{http://bindrecipe.services.ws.appiancorp.com}CorporateDirectoryService"",port:""CorporateDirectoryServiceHttpSoap12Endpoint"",operation:""{http://bindrecipe.services.ws.appiancorp.com}getEmployees""),{getEmployeesRequest:{}}).returnValue.getEmployeesResponse.return"
22,Divide a big form into sections presented one step at a time with validation.,"a!localVariables(local!employee:a!map(firstName:null,lastName:null,department:null,title:null,phoneNumber:null,startDate:null),local!currentStep:1,a!formLayout(label:""Example: Onboarding Wizard"",contents:{a!columnsLayout(columns:{a!columnLayout(contents:{a!textField(label:""First Name"",labelPosition:if(local!currentStep=3,""ADJACENT"",""ABOVE""),value:local!employee.firstName,saveInto:local!employee.firstName,readOnly:local!currentStep=3,required:not(local!currentStep=3),showWhen:or(local!currentStep={1,3})),a!textField(label:""Last Name"",labelPosition:if(local!currentStep=3,""ADJACENT"",""ABOVE""),value:local!employee.lastName,saveInto:local!employee.lastName,readOnly:local!currentStep=3,required:not(local!currentStep=3),showWhen:or(local!currentStep={1,3})),a!textField(label:""Phone Number"",labelPosition:if(local!currentStep=3,""ADJACENT"",""ABOVE""),value:local!employee.phoneNumber,saveInto:local!employee.phoneNumber,readOnly:local!currentStep=3,required:not(local!currentStep=3),showWhen:or(local!currentStep={2,3}))}),a!columnLayout(contents:{a!textField(label:""Department"",labelPosition:if(local!currentStep=3,""ADJACENT"",""ABOVE""),value:local!employee.department,saveInto:local!employee.department,readOnly:local!currentStep=3,required:not(local!currentStep=3),showWhen:or(local!currentStep={1,3})),a!textField(label:""Title"",labelPosition:if(local!currentStep=3,""ADJACENT"",""ABOVE""),value:local!employee.title,saveInto:local!employee.title,readOnly:local!currentStep=3,required:not(local!currentStep=3),showWhen:or(local!currentStep={1,3})),a!dateField(label:""Start Date"",labelPosition:if(local!currentStep=3,""ADJACENT"",""ABOVE""),value:local!employee.startDate,saveInto:local!employee.startDate,readOnly:local!currentStep=3,required:not(local!currentStep=3),showWhen:or(local!currentStep={2,3}))})})},buttons:a!buttonLayout(primaryButtons:{a!buttonWidget(label:""Go Back"",value:local!currentStep-1,saveInto:local!currentStep,showWhen:or(local!currentStep={2,3})),a!buttonWidget(label:if(local!currentStep=1,""Next"",""Go to Review""),value:local!currentStep+1,saveInto:local!currentStep,validate:true,showWhen:or(local!currentStep={1,2})),a!buttonWidget(label:""Onboard Employee"",style:""PRIMARY"",submit:true,showWhen:local!currentStep=3)})))"
23,Allow a user to save their preferred filter on a report and automatically load it when they revisit the report later.,"a!localVariables(local!persistedFilterData:a!queryEntity(entity:cons!CSRS_FILTER_ENTITY,query:a!query(filter:a!queryFilter(field:""username"",operator:""="",value:loggedInUser()),pagingInfo:a!pagingInfo(startIndex:1,batchSize:1)),fetchTotalCount:true),local!persistedFilter:if(local!persistedFilterData.totalCount=0,/*There's no existing filter for this user, so create a new one */
    'type!{urn:com:appian:types}SupportRequestReportFilter'(username: loggedInUser()),
    cast('type!{urn:com:appian:types}SupportRequestReportFilter', local!persistedFilterData.data[1])
  ),
  local!saveFilterError: false,
  /* Store the current filter separate from the persisted filter so we know when they are the same */
  local!filter: local!persistedFilter,
  local!allPriorities: rule!CSRS_GetAllPriority().value,
  local!allStatuses: rule!CSRS_GetAllStatus().value,
  local!pagingInfo: a!pagingInfo(1, -1, a!sortInfo(""createdOn"", false)),
  local!filterChanged: not(exact(local!persistedFilter, local!filter)),
  /* Data that will be displayed in the grid given the *
   * current search terms and applied filters          */
  {
    a!sectionLayout(
      contents:{
        a!columnsLayout(
          columns:{
            a!columnLayout(
              contents:{
                a!dropdownField(
                  label: ""Priority"",
                  labelPosition: ""ADJACENT"",
                  placeholder: ""AllPriorities"",
                  choiceLabels: local!allPriorities,
                  choiceValues: local!allPriorities,
                  value: local!filter.priority,
                  saveInto: local!filter.priority
                ),
                a!dropdownField(
                  label: ""Status"",
                  labelPosition: ""ADJACENT"",
                  placeholder: ""AllStatuses"",
                  choiceLabels: local!allStatuses,
                  choiceValues: local!allStatuses,
                  value: local!filter.status,
                  saveInto: local!filter.status
                )
              }
            ),
            a!columnLayout(
              contents:{
                a!buttonLayout(
                  secondaryButtons: {
                    if(
                      local!saveFilterError,
                      a!buttonWidget(
                        label: ""Couldnotsavefilters"",
                        disabled: true
                      ),
                      a!buttonWidget(
                        label: ""SaveFilters"",
                        disabled: not(local!filterChanged),
                        saveInto: a!writeToDataStoreEntity(
                          dataStoreEntity: cons!CSRS_FILTER_ENTITY,
                          valueToStore: local!filter,
                          onSuccess: {
                            a!save(local!persistedFilter, local!filter)
                          },
                          onError: {
                            a!save(local!saveFilterError, true)
                          }
                        )
                      )
                    )
                  }
                )
              }
            )
          }
        )
      }
    ),
    a!gridField(
      emptyGridMessage: ""NoSupportRequestsavailable"",
      data: a!queryEntity(
        entity: cons!CSRS_SUPPORT_REQUEST_DSE,
        query: a!query(
          selection: a!querySelection(
            columns: {
              a!queryColumn(field: ""id""),
              a!queryColumn(field: ""title""),
              a!queryColumn(field: ""status""),
              a!queryColumn(field: ""priority"")
            }
          ),
          logicalExpression: a!queryLogicalExpression(
            operator: ""AND"",
            filters: {
              a!queryFilter(
                field: ""status.value"",
                operator: ""="",
                value: local!filter.status
              ),
              a!queryFilter(
                field: ""priority.value"",
                operator: ""="", value:
                local!filter.priority
              )
            },
            ignoreFiltersWithEmptyValues: true
          ),
          pagingInfo: fv!pagingInfo
        ),
        fetchTotalCount: true
      ),
      columns: {
        a!gridColumn(
          label: ""Title"",
          sortField: ""title"",
          value: fv!row.title
        ),
        a!gridColumn(
          label: ""Status"",
          sortField: ""status.value"",
          value: index(fv!row.status, ""value"", {})
        ),
        a!gridColumn(
          label: ""Priority"",
          sortField: ""priority.value"",
          value: a!imageField(
            images: rule!CSRS_GetIconForPriority(index(fv!row.priority, ""value"", {}))
          ),
          width: ""NARROW"",
          align: ""CENTER""
        ),
        /*a!gridColumn(*/
        /*label: ""Priority"",*/
        /*sortField: ""priority.value"",*/
        /*value: a!richTextDisplayField(*/
        /*value: a!richTextIcon(*/
        /*icon: displayvalue(*/
        /*index(fv!row.priority, ""value"", {}),*/
        /* Priority values */
        /*{""Low"", ""Medium"", ""High"", ""Critical""},*/
        /* Corresponding icons for each priority */
        /*{""arrow-circle-down"", ""arrow-circle-right"", ""arrow-circle-up"", ""exclamation-circle""},*/
        /*""circle""*/
        /*),*/
        /*size: ""MEDIUM"",*/
        /*color: if(*/
        /*contains(*/
        /*{""High"", ""Critical""},*/
        /*index(fv!row.priority, ""value"", {}),*/
        /*),*/
        /*""NEGATIVE"",*/
        /*""SECONDARY""*/
        /*)*/
        /*)*/
        /*),*/
        /*align: ""CENTER"",*/
        /*width: ""NARROW""*/
        /*)*/
      },
      rowHeader: 1
    )
  }
)
"
24,"Aggregate data, specifically the total number of employees in a given department, to display in a pie chart.","{a!pieChartField(data:recordType!Employee,config:a!pieChartConfig(primaryGrouping:a!grouping(field:recordType!Employee.fields.department,alias:""department_primaryGrouping""),measures:{a!measure(function:""COUNT"",field:recordType!Employee.fields.id,alias:""id_count_measure1"")},dataLimit:100),label:""Pie Chart"",labelPosition:""ABOVE"",colorScheme:""CLASSIC"",style:""PIE"",seriesLabelStyle:""ON_CHART"",height:""MEDIUM"",refreshAfter:""RECORD_ACTION"")}"
25,Show different dropdown options depending on the user selection.,"a!localVariables(local!selectedDepartment,local!selectedTitle,/**Hardcodedvaluesarestoredherethroughthechoosefunction.Typically*thisdatawouldlivewiththedepartmentinalookupvalue.Inthatcase*local!selectedDepartmentwouldactasafilteronthatquerytobring*backtitlesbydepartment.*/local!availableTitles:choose(if(isnull(local!selectedDepartment),1,local!selectedDepartment),{""CEO"",""CFO"",""COO"",""Executive Assistant""},{""Director"",""Quality Engineer"",""Manager"",""Software Engineer""},{""Accountant"",""Manager"",""Director""},{""Coordinator"",""Director"",""Manager""},{""Consultant"",""Principal Consultant"",""Senior Consultant""},{""Account Executive"",""Director"",""Manager""}),a!sectionLayout(label:""Example: Cascading Dropdowns"",contents:{a!dropdownField(label:""Department"",choiceLabels:{""Corporate"",""Engineering"",""Finance"",""Human Resources"",""Professional Services"",""Sales""},choiceValues:{1,2,3,4,5,6},placeholder:""-- Select a Department -- "",value:local!selectedDepartment,saveInto:{local!selectedDepartment,a!save(local!selectedTitle,null)}),a!dropdownField(label:""Title"",choiceLabels:local!availableTitles,choiceValues:local!availableTitles,placeholder:""--- Select a Title ---"",value:local!selectedTitle,saveInto:local!selectedTitle,disabled:isnull(local!selectedDepartment))}))"
26,"Show a text field that allows the user to enter dollar amounts including the dollar symbol and thousand separators, but save the value as a decimal rather than text. Additionally, always show the dollar amount with the dollar symbol.","a!localVariables(local!amount,a!textField(label:""Amount in Text"",/*Instructionsshowthesaveddatatype*/instructions:""Type of local!amount: ""&typename(typeof(local!amount)),value:if(isnull(local!amount),"""",dollar(local!amount)),/*Insteadofsavingthevalueastext,a!save()isusedtostoretothedesireddatatype*/saveInto:a!save(local!amount,todecimal(save!value))))"
27,This pattern illustrates how to create a column chart that compares the number of total orders and the number of orders that had at least one item purchased with a promo code.,"{a!columnChartField(data:a!recordData(recordType:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order',filters:a!queryLogicalExpression(operator:""AND"",filters:{a!queryFilter(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.fields.{fbcc99f6-1ddf-4923-903b-18122a1737c6}orderDate',operator:""between"",value:/*Trailing12Months*/toDatetime({eomonth(today(),-13)+1,eomonth(today(),-1)+1}))},ignoreFiltersWithEmptyValues:true)),config:a!columnChartConfig(primaryGrouping:a!grouping(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.fields.{fbcc99f6-1ddf-4923-903b-18122a1737c6}orderDate',alias:""orderDate_month_primaryGrouping"",interval:""MONTH_SHORT_TEXT""),/*Countofallorders*/measures:{a!measure(label:""Total Orders"",function:""COUNT"",field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.fields.{262bb249-cf34-4171-a573-54831d0958dd}orderId',alias:""orderId_count_measure1""),/*Countoforderswithatleastoneitemcontainingapromocode*/a!measure(label:""Orders with Promo Codes"",function:""COUNT"",field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.fields.{262bb249-cf34-4171-a573-54831d0958dd}orderId',filters:a!queryLogicalExpression(operator:""AND"",filters:{a!queryFilter(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.relationships.{0bde4028-fd7a-411f-97ad-7ad5b84e0d18}orderDetail.relationships.{2ca679d6-3800-419b-8310-c1e328897e60}promoCode.fields.{aad6d5cd-e48f-46b4-bb00-a8252d51b3ee}description',operator:""<>"",value:""No Discount"")},ignoreFiltersWithEmptyValues:true),alias:""orderId_count_measure2"")},dataLimit:100),label:""Order Trends Over the Last 12 Months"",stacking:""NONE"",showLegend:true,showTooltips:true,labelPosition:""ABOVE"",colorScheme:""SUNSET"",height:""MEDIUM"",xAxisStyle:""STANDARD"",yAxisStyle:""NONE"",refreshAfter:""RECORD_ACTION"")}"
28,Use the milestone component to show steps in a wizard.,"a!localVariables(local!employee:a!map(firstName:null,lastName:null,department:null,title:null,phoneNumber:null,startDate:null),local!currentStep:1,local!steps:{""Step 1"",""Step 2"",""Review""},a!formLayout(label:""Example: Onboarding Wizard"",contents:{a!sectionLayout(contents:{a!milestoneField(steps:local!steps,active:local!currentStep)}),a!sectionLayout(contents:{a!columnsLayout(columns:{a!columnLayout(contents:{a!textField(label:""First Name"",labelPosition:if(local!currentStep=3,""ADJACENT"",""ABOVE""),value:local!employee.firstName,saveInto:local!employee.firstName,readOnly:local!currentStep=3,required:not(local!currentStep=3),showWhen:or(local!currentStep={1,3})),a!textField(label:""Last Name"",labelPosition:if(local!currentStep=3,""ADJACENT"",""ABOVE""),value:local!employee.lastName,saveInto:local!employee.lastName,readOnly:local!currentStep=3,required:not(local!currentStep=3),showWhen:or(local!currentStep={1,3})),a!textField(label:""Phone Number"",labelPosition:if(local!currentStep=3,""ADJACENT"",""ABOVE""),value:local!employee.phoneNumber,saveInto:local!employee.phoneNumber,readOnly:local!currentStep=3,required:not(local!currentStep=3),showWhen:or(local!currentStep={2,3}))}),a!columnLayout(contents:{a!textField(label:""Department"",labelPosition:if(local!currentStep=3,""ADJACENT"",""ABOVE""),value:local!employee.department,saveInto:local!employee.department,readOnly:local!currentStep=3,required:not(local!currentStep=3),showWhen:or(local!currentStep={1,3})),a!textField(label:""Title"",labelPosition:if(local!currentStep=3,""ADJACENT"",""ABOVE""),value:local!employee.title,saveInto:local!employee.title,readOnly:local!currentStep=3,required:not(local!currentStep=3),showWhen:or(local!currentStep={1,3})),a!dateField(label:""Start Date"",labelPosition:if(local!currentStep=3,""ADJACENT"",""ABOVE""),value:local!employee.startDate,saveInto:local!employee.startDate,readOnly:local!currentStep=3,required:not(local!currentStep=3),showWhen:or(local!currentStep={2,3}))})})})},buttons:a!buttonLayout(primaryButtons:{a!buttonWidget(label:""Go Back"",value:local!currentStep-1,saveInto:local!currentStep,showWhen:or(local!currentStep={2,3})),a!buttonWidget(label:if(local!currentStep=1,""Next"",""Go to Review""),value:local!currentStep+1,saveInto:local!currentStep,validate:true,showWhen:or(local!currentStep={1,2})),a!buttonWidget(label:""Onboard Employee"",style:""PRIMARY"",submit:true,showWhen:local!currentStep=3)})))"
29,Displays a column chart with aggregate data from a record type and conditionally shows a grid with filtered records when a user selects a column on the chart.,"a!localVariables(local!selection,a!sectionLayout(contents:{a!columnChartField(label:""All Cases"",data:a!recordData(recordType:recordType!Case,filters:a!queryLogicalExpression(operator:""AND"",filters:{a!queryFilter(field:recordType!Case.fields.type,operator:""not in"",value:{""Other""})},ignoreFiltersWithEmptyValues:true)),config:a!columnChartConfig(primaryGrouping:a!grouping(field:recordType!Case.fields.status,alias:""status""),secondaryGrouping:a!grouping(field:recordType!Case.fields.type,alias:""type""),measures:{a!measure(function:""COUNT"",field:recordType!Case.fields.id,alias:""id_count"")},dataLimit:100,link:a!dynamicLink(value:fv!selection,saveInto:local!selection)),stacking:""NONE"",colorScheme:""PARACHUTE"",showWhen:isnull(local!selection)),a!linkField(labelPosition:""COLLAPSED"",links:a!dynamicLink(label:""Back"",saveInto:a!save(target:local!selection,value:null)),showWhen:not(isnull(local!selection))),a!gridField(label:local!selection.status&"" ""&local!selection.type&"" Cases"",labelPosition:""ABOVE"",data:a!recordData(recordType:recordType!Case,filters:a!queryLogicalExpression(operator:""AND"",filters:{a!queryFilter(field:recordType!Case.fields.type,operator:""="",value:local!selection.type),a!queryFilter(field:recordType!Case.fields.status,operator:""="",value:local!selection.status)},ignorefilterswithemptyvalues:true)),columns:{a!gridColumn(label:""Id"",sortField:recordType!Case.fields.id,value:fv!row[recordType!Case.fields.id],align:""END""),a!gridColumn(label:""Assignee"",sortField:recordType!Case.fields.assignee,value:a!linkField(links:{a!recordLink(label:fv!row[recordType!Case.fields.assignee],recordType:recordType!Case,identifier:fv!identifier)})),a!gridColumn(label:""Title"",sortField:recordType!Case.fields.title,value:fv!row[recordType!Case.fields.title]),a!gridColumn(label:""Priority"",sortField:recordType!Case.fields.priority,value:fv!row[recordType!Case.fields.priority]),a!gridColumn(label:""Status"",sortField:recordType!Case.fields.status,value:fv!row[recordType!Case.fields.status]),a!gridColumn(label:""Type"",sortField:recordType!Case.fields.type,value:fv!row[recordType!Case.fields.type]),a!gridColumn(label:""Date Created"",sortField:recordType!Case.fields.dateCreated,value:fv!row[recordType!Case.fields.dateCreated],align:""END""),},showWhen:not(isnull(local!selection)))}))"
30,"Display a default value in some form inputs on a start form, and save the value into the process when submitting.","=a!formLayout(label:""Example: Default Value"",contents:{a!textField(label:""Case Title"",value:ri!title,saveInto:ri!title,required:true),a!dateField(label:""Date"",value:ri!date,saveInto:ri!date,required:true)},buttons:a!buttonLayout(primaryButtons:a!buttonWidget(label:""Submit"",submit:true)))"
31,"This pattern illustrates how to create a grid that shows the top paying customers, their latest order, and their total sum of sales.","{a!relatedRecordData(relationship:'recordType!{1b00c9c1-c2a1-455c-b204-1e6ec5c448a1}Customer.relationships.{0143bf2f-ae73-4534-bf44-8448c1c5f4f1}order',limit:1,sort:a!sortInfo(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.fields.{fbcc99f6-1ddf-4923-903b-18122a1737c6}orderDate',ascending:false))}"
32,"Show a dropdown that has an ""Other"" option at the end of the list of choices. If the user selects ""Other"", show a required text field.","a!localVariables(local!departments:{""Corporate"",""Engineering"",""Finance"",""HR"",""Professional Services""},/**Youneedseparatevariablestotemporarilystorethedropdownselection*(local!selectedDepartment)andthevalueenteredfor""Other""(local!otherChoice).*/local!selectedDepartment,local!otherChoice,local!savedValue,a!formLayout(label:""Example: Dropdown with Extra Option for Other"",contents:{a!dropdownField(label:""Department"",instructions:""Value saved: ""&local!savedValue,/**Addingthe""Other""optionhereallowsyoutostoreaseparatevalue.*Forexample,ifyourchoiceValuesareintegers,youcouldstore-1.*/choiceLabels:a!flatten({local!departments,""Other""}),choiceValues:a!flatten({local!departments,""Other""}),placeholder:""--- Select a Department ---"",value:local!selectedDepartment,saveInto:local!selectedDepartment),a!textField(label:""Other"",value:local!otherChoice,saveInto:local!otherChoice,required:true,showWhen:local!selectedDepartment=""Other"")},buttons:a!buttonLayout(/**TheSubmitbuttonsavestheappropriatevaluetoitsfinallocation*/primaryButtons:a!buttonWidget(label:""Submit"",value:if(local!selectedDepartment=""Other"",local!otherChoice,local!selectedDepartment),saveInto:local!savedValue,submit:true))))"
33,"Configure a checkbox that saves a boolean (true/false) value, and validate that the user selects the checkbox before submitting a form.","a!localVariables(local!userAgreed,a!formLayout(label:""Example: Configure a Boolean Checkbox"",contents:{a!checkboxField(label:""Acknowledge"",choiceLabels:{""I agree to the terms and conditions.""},choiceValues:{true},/*Iflocal!userAgreedisfalse,setthevalue*//*tonullsothatthecheckboxisunchecked*/value:if(local!userAgreed,true,null),/*Wewanttosaveafalsevaluewhenthecheckbox*//*isunchecked,soweneedtocheckwhether*//*save!valueisnullandupdatethevariableifso*/saveInto:a!save(local!userAgreed,if(isnull(save!value),false,true)),required:true,requiredMessage:""You must check this box!"")},buttons:a!buttonLayout(primaryButtons:{a!buttonWidget(label:""Submit"",submit:true)})))"
34,This pattern illustrates how to calculate year-over-year sales growth and display it in a KPI.,"a!localVariables(/*Calculatethesumofsalesforordersplacedthisyear*/local!salesThisYear:a!queryRecordType(recordType:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order',filters:a!queryFilter(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.fields.{fbcc99f6-1ddf-4923-903b-18122a1737c6}orderDate',operator:""BETWEEN"",value:{/*Beginningoftheyear*/eomonth(today(),-month(today()))+1,now()}),fields:a!aggregationFields(/*Groupbyorderdateyear*/groupings:a!grouping(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.fields.{fbcc99f6-1ddf-4923-903b-18122a1737c6}orderDate',alias:""orderDate"",interval:""YEAR""),/*Getthesumoflinetotalforallorderitems*/measures:a!measure(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.relationships.{0bde4028-fd7a-411f-97ad-7ad5b84e0d18}orderDetail.fields.{db456082-5f77-4765-bc3e-f662651e0d52}lineTotal',function:""SUM"",alias:""sumOfOrders"")),pagingInfo:a!pagingInfo(startIndex:1,batchSize:500)).data,/*Calculatethesumofsalesforordersplacedlastyear*/local!salesLastYear:a!queryRecordType(recordType:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order',filters:a!queryFilter(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.fields.{fbcc99f6-1ddf-4923-903b-18122a1737c6}orderDate',operator:""BETWEEN"",value:{/*Beginningoftheyear-Lastyear*/datetime(year(eomonth(today(),-month(today()))+1)-1,1,1),/*Today-Lastyear*/datetime(year(today())-1,month(today()),day(today()))}),fields:a!aggregationFields(/*Groupbyorderdateyear*/groupings:a!grouping(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.fields.{fbcc99f6-1ddf-4923-903b-18122a1737c6}orderDate',alias:""orderDate"",interval:""YEAR""),/*Getthesumoflinetotalforallorderitems*/measures:a!measure(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.relationships.{0bde4028-fd7a-411f-97ad-7ad5b84e0d18}orderDetail.fields.{db456082-5f77-4765-bc3e-f662651e0d52}lineTotal',function:""SUM"",alias:""sumOfOrders"")),pagingInfo:a!pagingInfo(startIndex:1,batchSize:500)).data,/*Salesgrowthcalculation*/local!salesGrowth:(local!salesThisYear.sumOfOrders-local!salesLastYear.sumOfOrders)/local!salesLastYear.sumOfOrders*100,/*Columnlayoutthatwe'll use for our KPIs */
  {
    a!columnsLayout(
      columns: {
        a!columnLayout(contents: {}),
        a!columnLayout(contents: {}),
        a!columnLayout(contents: {})
      }
    )
  }
)
"
35,Limit the number of rows that can be selected to an arbitrary number.,"a!localVariables(local!selection,local!selectedRows,/*Thisisthemaximumnumberofrowsyoucanselectfromthegrid.Selectionsthatexceedthisvaluearedroppedfromlocal!selectedRows.*/local!selectionLimit:2,/*Thisstoresthelastdroppedrowthatexceededtheselectionlimit.*/local!errorDrop,{a!columnsLayout(columns:{a!columnLayout(contents:{a!gridField(label:""Employees"",labelPosition:""ABOVE"",instructions:""Select up to ""&local!selectionLimit&"" employees."",data:recordType!Employee,columns:{a!gridColumn(label:""ID"",sortField:""id"",value:fv!row[recordType!Employee.fields.id],width:""ICON""),a!gridColumn(label:""First Name"",sortField:""firstName"",value:fv!row[recordType!Employee.fields.firstName]),a!gridColumn(label:""Last Name"",sortField:""lastName"",value:fv!row[recordType!Employee.fields.lastName]),a!gridColumn(label:""Phone Number"",sortField:""phoneNumber"",value:fv!row[recordType!Employee.fields.phoneNumber])},pagesize:10,selectable:true,selectionstyle:""ROW_HIGHLIGHT"",selectionvalue:local!selection,selectionsaveinto:{local!selection,a!save(local!selectedRows,append(local!selectedRows,fv!selectedRows)),a!save(local!selectedRows,difference(local!selectedRows,fv!deselectedRows)),/*Ifthelengthoftheselectedrowsisgreaterthanthelimit,thissavestheexcessselectioninlocal!errorDropsowecantelltheuserwhichrowwasdropped.*/if(length(local!selectedRows)>local!selectionLimit,a!save(local!errorDrop,fv!selectedRows),a!save(local!errorDrop,null)),/*Weusetherdrop()functiontoremovethemostrecentselections,soonlythefirst-selectedrows,uptothelimit,remain.Ifyouwantthereversebehavior,droppingtheoldestselectionsinstead,replacerdrop()withldrop().Themax()functionisusedasasimplewaytohandlenegativenumbersforwhentheselectionlengthislessthanthelimit.*/a!save(local!selectedRows,rdrop(local!selectedRows,max(0,length(local!selectedRows)-local!selectionLimit))),a!save(local!selection,rdrop(local!selection,max(0,length(local!selection)-local!selectionLimit)))},validations:a!validationMessage(message:""The total cannot be greater than $1,000"",validateAfter:""REFRESH"",showWhen:true))},width:""WIDE""),a!columnLayout(contents:{a!sectionLayout(label:""Selected Employees"",contents:{a!forEach(items:local!selectedRows,expression:a!textField(label:fv!index&"". ""&fv!item[recordType!Employee.fields.firstName]&"" ""&fv!item[recordType!Employee.fields.lastName],value:""    ""&fv!item[recordType!Employee.fields.phoneNumber],readOnly:true))}),a!richTextDisplayField(label:""Rich Text"",labelPosition:""COLLAPSED"",value:{a!richTextItem(text:{if(not(isnull(local!errorDrop)),""Can'tadd""
                      &local!errorDrop[recordType!Employee.fields.firstName] &""""& local!errorDrop[recordType!Employee.fields.lastName] &"".""
                      &char(10)&""Maximumselections:""&local!selectionLimit,
                      """"
                    )
                  },
                  color: ""NEGATIVE"",
                  style: {
                    ""STRONG""
                  }
                )
              }
            )
          }
        )
      }
    )
  }
)
"
36,Use an interface to display information about instances of a specific process model.,"a!localVariables(local!pagingInfo:a!pagingInfo(startIndex:1,batchSize:-1),local!report:a!queryProcessAnalytics(report:cons!UC_PROCESSES_FOR_PM_REPORT,contextProcessModels:{cons!UC_PROCESS_MODEL},query:a!query(pagingInfo:local!pagingInfo)),a!gridField(label:local!report.name,instructions:local!report.description,data:local!report.data,columns:a!forEach(items:local!report.columnConfigs,expression:a!gridColumn(label:fv!item.label,sortField:fv!item.field,value:if(fv!item.configuredFormatting=""PROCESS_STATUS_ICON"",a!imageField(images:choose(/*Processstatusgofrom0-4,soadd1toindexintothechooselist*/1+tointeger(index(fv!row,fv!item.field,{})),a!documentImage(document:a!iconIndicator(icon:""PROGRESS_RUNNING""),altText:""Active"",caption:""Active""),a!documentImage(document:a!iconIndicator(icon:""STATUS_OK""),altText:""Completed"",caption:""Completed""),a!documentImage(document:a!iconIndicator(icon:""PROGRESS_PAUSED""),altText:""Paused"",caption:""Paused""),a!documentImage(document:a!iconIndicator(icon:""STATUS_NOTDONE""),altText:""Cancelled"",caption:""Cancelled""),a!documentImage(document:a!iconIndicator(icon:""STATUS_ERROR""),altText:""Paused By Exception"",caption:""Paused By Exception""))),index(fv!row,fv!item.field)))),rowHeader:1,pageSize:20))"
37,Create a grid that shows hierarchical data and allows users to dynamically expand and collapse rows within the grid.,"a!localVariables(local!prs:a!queryEntity(entity:cons!PR_ENTITY,query:a!query(/*Toreturnallfields,leavetheselectionparameterblank.`*//*`Ifyouarenotdisplayingallfields,usetheselection`*//*`parametertoonlyreturnthenecessaryfields*/pagingInfo:a!pagingInfo(startIndex:1,batchSize:-1))).data,local!items:a!queryEntity(entity:cons!PR_ITEM_ENTITY,query:a!query(pagingInfo:a!pagingInfo(startIndex:1,batchSize:-1))).data,a!gridLayout(headerCells:{a!gridLayoutHeaderCell(label:""Summary""),a!gridLayoutHeaderCell(label:""Qty"",align:""RIGHT""),a!gridLayoutHeaderCell(label:""Unit Price"",align:""RIGHT""),a!gridLayoutHeaderCell(label:""Total Price"",align:""RIGHT"")},columnConfigs:{a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:4),a!gridLayoutColumnConfig(width:""DISTRIBUTE""),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:2),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:2)},rowHeader:1,rows:a!forEach(items:local!prs,expression:a!localVariables(local!expanded:false,local!itemsForPr:index(local!items,/*Mustcasttointegerbecausea!queryEntity()returnsadictionary*/wherecontains(tointeger(fv!item.id),local!items.purchaseRequest.id),{}),local!totalPrice:sum(a!forEach(items:local!itemsForPr,expression:tointeger(fv!item.qty)*todecimal(fv!item.unitPrice))),{a!gridRowLayout(contents:{a!richTextDisplayField(label:""Summary ""&fv!index,value:{if(length(local!itemsForPr)=0,fv!item.summary,a!richTextItem(text:if(local!expanded,""-"",""+"")&"" ""&fv!item.summary,link:a!dynamicLink(value:not(local!expanded),saveInto:local!expanded)))}),a!textField(label:""Qty ""&fv!index,readOnly:true),a!textField(label:""Unit Price ""&fv!index,readOnly:true),a!textField(label:""Total Price ""&fv!index,value:dollar(local!totalPrice),readOnly:true,align:""RIGHT"")}),if(local!expanded,a!forEach(items:local!itemsForPr,expression:a!gridRowLayout(contents:{a!richTextDisplayField(label:""Item Summary ""&fv!index,value:a!richTextBulletedList(items:fv!item.summary)),a!integerField(label:""Item Qty ""&fv!index,value:fv!item.qty,readOnly:true,align:""RIGHT""),a!textField(label:""Item Unit Price ""&fv!index,value:dollar(fv!item.unitPrice),readOnly:true,align:""RIGHT""),a!textField(label:""Item Total Price ""&fv!index,value:dollar(tointeger(fv!item.qty)*todecimal(fv!item.unitPrice)),readOnly:true,align:""RIGHT"")})),{})}))))"
38,Make a paragraph component conditionally required based on the user selection.,"a!localVariables(local!isCritical,local!phoneNumber,a!formLayout(label:""Example: Conditionally Required Field"",contents:{a!columnsLayout(columns:{a!columnLayout(contents:{a!checkboxField(label:""Is Mission Critical"",choiceLabels:""Check the box if the employee will be on a mission critical team"",choiceValues:{true},value:local!isCritical,saveInto:local!isCritical)}),a!columnLayout(contents:{a!textField(label:""Cell Number"",placeholder:""555-456-7890"",required:local!isCritical,value:local!phoneNumber,saveInto:local!phoneNumber,validations:if(len(local!phoneNumber)>12,""Contains more than 12 characters. Please reenter phone number, and include only numbers and dashes"",null))})})},buttons:a!buttonLayout(primaryButtons:{a!buttonWidget(label:""Submit"",submit:true)})))"
39,This pattern illustrates how to create an area chart that dynamically displays sales generated by product category compared to total sales over the last year.,BikesAccessoriesClothingComponents
40,This pattern illustrates how to calculate the percent of sales generated from online orders and display it in a gauge component.,"a!localVariables(local!onlineSalesTY:a!queryRecordType(recordType:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order',/*Onlyincludeorderscreatedthisyear:year-to-date*/filters:{a!queryFilter(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.fields.{fbcc99f6-1ddf-4923-903b-18122a1737c6}orderDate',operator:""BETWEEN"",value:{/*Beginningoftheyear*/eomonth(today(),-month(today()))+1,now()})},fields:{a!aggregationFields(/*Groupbytheorderdateyear*/groupings:a!grouping(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.fields.{fbcc99f6-1ddf-4923-903b-18122a1737c6}orderDate',interval:""YEAR"",alias:""orderDateYear""),measures:{/*Getthesumofallorders*/a!measure(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.relationships.{0bde4028-fd7a-411f-97ad-7ad5b84e0d18}orderDetail.fields.{db456082-5f77-4765-bc3e-f662651e0d52}lineTotal',function:""SUM"",alias:""totalSales""),/*Getthesumofallordersthathaveanonlineorderflag*/a!measure(field:'recordType!{ad898682-e651-4b2d-af67-47c1fcb1171f}Order.relationships.{0bde4028-fd7a-411f-97ad-7ad5b84e0d18}orderDetail.fields.{db456082-5f77-4765-bc3e-f662651e0d52}lineTotal',function:""SUM"",alias:""onlineSales"",filters:{a!queryFilter(field:'recordType!{bec4a875-9980-4bbf-a38c-c492ebed065a}Order Detail.relationships.{e6b1dbca-6c3c-4540-a093-3c581a73ad17}order.fields.{5bade7d5-5fbc-4cc4-807f-907f8f65969b}onlineOrderFlag',operator:""="",value:1),})})},pagingInfo:a!pagingInfo(1,10)).data,/*Columnlayoutthatwe'll use for our gauge components */
    {
        a!columnsLayout(
        columns: {
            a!columnLayout(contents: {}),
            a!columnLayout(contents: {})
        }
        )
    }
)
"
41,"Allow the user to edit data inline in a grid one field at a time, or in bulk using selection.","a!localVariables(local!items:{type!PrItem(id:1,summary:""Item 1"",qty:1,unitPrice:10,dept:""Sales"",due:today()+10),type!PrItem(id:2,summary:""Item 2"",qty:2,unitPrice:20,dept:""Finance"",due:today()+20),type!PrItem(id:3,summary:""Item 3"",qty:3,unitPrice:30,dept:""Sales"",due:today()+30)},local!selectedIndices:tointeger({}),a!formLayout(label:""Example: Inline Editable Grid using Selection for Bulk Actions"",contents:{a!buttonArrayLayout(buttons:{a!buttonWidget(label:""Approve"",value:""Approve"",/*Youcansaveintoafieldatmanyindicesatatime`*/saveInto:{local!items[local!selectedIndices].decision,/*`Cleartheselectedindicesafteradecisionismade`*/a!save(local!selectedIndices,tointeger({}))},disabled:count(local!selectedIndices)=0),a!buttonWidget(label:""Reject"",value:""Reject"",saveInto:{local!items[local!selectedIndices].decision,/*`Cleartheselectedindicesafteradecisionismade`*/a!save(local!selectedIndices,tointeger({}))},disabled:count(local!selectedIndices)=0),a!buttonWidget(label:""Need More Info"",value:""Need More Info"",saveInto:{local!items[local!selectedIndices].decision,/*`Cleartheselectedindicesafteradecisionismade*/a!save(local!selectedIndices,tointeger({}))},disabled:count(local!selectedIndices)=0)}),a!gridLayout(headerCells:{a!gridLayoutHeaderCell(label:""Summary""),a!gridLayoutHeaderCell(label:""Qty"",align:""RIGHT""),a!gridLayoutHeaderCell(label:""U/P"",align:""RIGHT""),a!gridLayoutHeaderCell(label:""Amount"",align:""RIGHT""),a!gridLayoutHeaderCell(label:""Department""),a!gridLayoutHeaderCell(label:""Due"",align:""RIGHT""),a!gridLayoutHeaderCell(label:""Decision""),a!gridLayoutHeaderCell(label:""Reason"")},columnConfigs:{a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:5),a!gridLayoutColumnConfig(width:""DISTRIBUTE""),a!gridLayoutColumnConfig(width:""DISTRIBUTE""),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:2),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3)},rows:a!forEach(items:local!items,expression:{a!gridRowLayout(id:fv!index,contents:{a!textField(/*Labelsarenotvisibleingridcellsbutarenecessarytomeetaccessibilityrequirements*/label:""summary ""&fv!index,value:fv!item.summary,readOnly:true),a!integerField(label:""qty ""&fv!index,value:fv!item.qty,readOnly:true,align:""RIGHT""),a!floatingPointField(label:""unitPrice ""&fv!index,value:fv!item.unitPrice,readOnly:true,align:""RIGHT""),a!textField(label:""amount ""&fv!index,value:if(or(isnull(fv!item.qty),isnull(fv!item.unitPrice)),null,dollar(fv!item.qty*fv!item.unitPrice)),readOnly:true,align:""RIGHT""),a!dropdownField(label:""dept ""&fv!index,choiceLabels:{""Finance"",""Sales""},placeholder:""--Select-- "",choiceValues:{""Finance"",""Sales""},value:fv!item.dept,disabled:true),a!dateField(label:""due ""&fv!index,value:fv!item.due,readOnly:true,align:""RIGHT""),a!dropdownField(label:""decision ""&fv!index,choiceLabels:{""Approve"",""Reject"",""Need More Info""},placeholder:""--Select-- "",choiceValues:{""Approve"",""Reject"",""Need More Info""},value:fv!item.decision,saveInto:fv!item.decision,required:true),a!textField(label:""reason""&fv!index,value:fv!item.reason,saveInto:fv!item.reason,required:and(not(isnull(fv!item.decision)),fv!item.decision<>""Approve""),requiredMessage:""A reason is required for items that are not approved"")})}),selectable:true,selectionValue:local!selectedIndices,/*Flattentheselectedvaluessotheresultiseasiertoworkwith*//*whentheselect/deselectalloptionisusedinaneditablegrid*/selectionSaveInto:a!save(local!selectedIndices,a!flatten(save!value)),rowHeader:2),a!textField(label:""Selected Values"",labelPosition:""ADJACENT"",instructions:typename(typeof(local!selectedIndices)),value:local!selectedIndices,readOnly:true)},buttons:a!buttonLayout(primaryButtons:a!buttonWidget(label:""Submit"",submit:true))))"
42,Display an interactive pie chart with selectable sections so that a user may filter the results in a grid.,"a!localVariables(local!chartDataSubset:a!queryRecordType(recordType:recordType!Employee,/*Groupingondepartmentthencountingthetotalidsinthatgroupforthepiecharttosize.Thisreturnsanarrayofdepartmentswiththetotalnumberofemployeesinthatdepartment.Itlookslikethis:{{department:Engineering,id:6}...}*/fields:a!aggregationFields(groupings:a!grouping(field:recordType!Employee.fields.department,alias:""department""),measures:a!measure(field:recordType!Employee.fields.id,function:""COUNT"",alias:""id_measure"")),pagingInfo:a!pagingInfo(startIndex:1,batchSize:5000,sort:a!sortInfo(field:""department"",ascending:true))),/*local!selectedDepartmentholdsthenameoftheselectedpiechartsection.*/local!selectedDepartment,a!sectionLayout(contents:{a!pieChartField(series:a!forEach(items:local!chartDataSubset.data,expression:a!chartSeries(label:fv!item.department,data:fv!item.id,links:a!dynamicLink(/*Thedynamiclinkstoresthedepartmentvalueintolocal!selectedDepartment.*/value:fv!item.department,saveInto:local!selectedDepartment))),colorScheme:""MIDNIGHT""),a!linkField(labelPosition:""COLLAPSED"",links:a!dynamicLink(label:""Show all employees"",value:null,saveInto:{local!selectedDepartment}),showWhen:not(isnull(local!selectedDepartment))),a!gridField(label:if(isnull(local!selectedDepartment),""All Employees"",""Employees in ""&local!selectedDepartment),emptyGridMessage:""No employees meet this criteria"",data:a!recordData(recordType:recordType!Employee,/*Filterthedepartmentcolumnbasedonthevalueoflocal!selectedDepartment.*/filters:a!queryLogicalExpression(operator:""AND"",filters:a!queryFilter(field:recordType!Employee.fields.department,operator:""="",value:local!selectedDepartment),ignorefilterswithemptyvalues:true)),columns:{a!gridColumn(label:""First Name"",sortField:recordType!Employee.fields.firstName,value:fv!row[recordType!Employee.fields.firstName]),a!gridColumn(label:""Last Name"",sortField:recordType!Employee.fields.lastName,value:fv!row[recordType!Employee.fields.lastName]),a!gridColumn(label:""Title"",sortField:recordType!Employee.fields.title,value:fv!row[recordType!Employee.fields.title])})}))"
43,Allow users to choose from a long text array using an autocompleting picker and prevent any choice from being picked multiple times.,"a!localVariables(local!matches:where(a!forEach(items:ri!labels,expression:search(ri!filter,fv!item))),a!dataSubset(data:index(ri!labels,local!matches),identifiers:index(ri!identifiers,local!matches)))"
44,"Aggregate data, specifically the total number of employees by date.","a!barChartField(data:recordType!Employee,config:a!barChartConfig(primaryGrouping:a!grouping(field:recordType!Employee.fields.startDate,alias:""startDate_month_of_year_primaryGrouping"",interval:""MONTH_OF_YEAR_SHORT_TEXT""),secondaryGrouping:a!grouping(field:recordType!Employee.fields.department,alias:""department_secondaryGrouping""),measures:{a!measure(function:""COUNT"",field:recordType!Employee.fields.id,alias:""id_count_measure1"")},dataLimit:100),label:""Bar Chart"",labelPosition:""ABOVE"",stacking:""NORMAL"",showLegend:true,showTooltips:true,colorScheme:""OCEAN"",height:""MEDIUM"",xAxisStyle:""STANDARD"",yAxisStyle:""STANDARD"")"
45,Save a numeric score using a set of clickable rich text icons.,"a!localVariables(local!rating:0,local!totalStars:10,a!richTextDisplayField(value:{a!foreach(items:enumerate(local!totalStars)+1,expression:{a!richTextIcon(icon:if(fv!index<=local!rating,""star"",""star-o""),color:""ACCENT"",linkstyle:""STANDALONE"",link:a!dynamicLink(value:if(local!rating=fv!index,0,fv!index),saveInto:local!rating))})}))"
46,"Present two buttons to the end user that, based on the selection, will validate only after a particular button is clicked.","a!localVariables(/**AlloftheselocalvariablescouldbecombinedintotheemployeeCDTandpassedinto*aprocessmodelviaaruleinput*/local!firstName,local!lastName,local!department,local!title,local!phoneNumber,local!startDate,/**local!isFutureHireisaplaceholdervaraiableusedtosetthevalidationgrouptrigger.*WhenisFutureHireissettotrue,ausercanskipphonenumberandstartdate.*/local!isFutureHire,local!isNumberValid:if(len(local!phoneNumber)<=12,true,false),a!formLayout(label:""Example: Add Employee with Conditional Requiredness"",contents:{a!textField(label:""First Name"",value:local!firstName,saveInto:local!firstName,required:true),a!textField(label:""Last Name"",value:local!lastName,saveInto:local!lastName,required:true),a!dropdownField(label:""Department"",choiceLabels:{""Corporate"",""Engineering"",""Finance"",""Human Resources"",""Professional Services"",""Sales""},placeholder:""-- Please Select a Department -- "",choiceValues:{""Corporate"",""Engineering"",""Finance"",""Human Resources"",""Professional Services"",""Sales""},value:local!department,saveInto:local!department,required:true),a!textField(label:""Title"",value:local!title,saveInto:local!title,required:true),/**Whenafieldhasavalidationgroupset,therequiredparameterandanyvalidations*aredeferreduntilthevalidationgroupistriggeredbyabuttonorlink.**Multiplevalidationsareaddedtothephonenumberfieldbyaddingalocalvariable*thatturnsoffrequiredandvalidationgroup,buttriggersastandardvalidation*uponunfocusfromthefield(ratherthantheonboardbuttonclick).*/a!textField(label:""Phone Number"",placeholder:""555-456-7890"",value:local!phoneNumber,saveInto:local!phoneNumber,required:local!isNumberValid,requiredMessage:""A phone number is needed if you'regoingtoonboardthisemployee"",
        validations: if(local!isNumberValid,"""",""Pleaseenteravalidtelephonelessthan12digitslong.""),
        validationGroup:if(local!isNumberValid,""Future_Hire"","""")
      ),
      a!dateField(
        label: ""StartDate"",
        value: local!startDate,
        saveInto: local!startDate,
        required:true,
        requiredMessage:""Astartdateisneededifyou're going to onboard this employee"",validationGroup:""Future_Hire"")},buttons:a!buttonLayout(primaryButtons:{a!buttonWidget(label:""Submit as Future Hire"",value:true,saveInto:local!isFutureHire,submit:true),a!buttonWidget(label:""Onboard Employee Now"",value:false,saveInto:local!isFutureHire,submit:true,validationGroup:""Future_Hire"")})))"
47,Allow the user to publish several rows of data to a table through the a!writeToDataStoreEntity() smart service function.,"a!localVariables(/*Thedatatoloadintothedatastoreentity.*/local!dataToLoad:cast('type!{urn:com:appian:types}employee?list',{a!map(firstName:""John"",lastName:""Smith"",department:""Engineering"",title:""Director"",phoneNumber:""555-123-4567"",startDate:today()-360),a!map(firstName:""Michael"",lastName:""Johnson"",department:""Finance"",title:""Analyst"",phoneNumber:""555-987-6543"",startDate:today()-360),a!map(firstName:""Mary"",lastName:""Reed"",department:""Engineering"",title:""Software Engineer"",phoneNumber:""555-456-0123"",startDate:today()-240),a!map(firstName:""Angela"",lastName:""Cooper"",department:""Sales"",title:""Manager"",phoneNumber:""555-123-4567"",startDate:today()-240),a!map(firstName:""Elizabeth"",lastName:""Ward"",department:""Sales"",title:""Sales Associate"",phoneNumber:""555-987-6543"",startDate:today()-240),a!map(firstName:""Daniel"",lastName:""Lewis"",department:""HR"",title:""Manager"",phoneNumber:""555-876-5432"",startDate:today()-180),a!map(firstName:""Paul"",lastName:""Martin"",department:""Finance"",title:""Analyst"",phoneNumber:""555-609-3691"",startDate:today()-150),a!map(firstName:""Jessica"",lastName:""Peterson"",department:""Finance"",title:""Analyst"",phoneNumber:""555-987-6543"",startDate:today()-150),a!map(firstName:""Mark"",lastName:""Hall"",department:""Professional Services"",title:""Director"",phoneNumber:""555-012-3456"",startDate:today()-150),a!map(firstName:""Rebecca"",lastName:""Wood"",department:""Engineering"",title:""Manager"",phoneNumber:""555-210-3456"",startDate:today()-150),a!map(firstName:""Pamela"",lastName:""Sanders"",department:""Engineering"",title:""Software Engineer"",phoneNumber:""555-123-4567"",startDate:today()-120),a!map(firstName:""Christopher"",lastName:""Morris"",department:""Professional Services"",title:""Consultant"",phoneNumber:""555-456-7890"",startDate:today()-120),a!map(firstName:""Kevin"",lastName:""Stewart"",department:""Professional Services"",title:""Manager"",phoneNumber:""555-345-6789"",startDate:today()-120),a!map(firstName:""Stephen"",lastName:""Edwards"",department:""Sales"",title:""Sales Associate"",phoneNumber:""555-765-4321"",startDate:today()-120),a!map(firstName:""Janet"",lastName:""Coleman"",department:""Finance"",title:""Director"",phoneNumber:""555-654-3210"",startDate:today()-90),a!map(firstName:""Scott"",lastName:""Bailey"",department:""Engineering"",title:""Software Engineer"",phoneNumber:""555-678-1235"",startDate:today()-30),a!map(firstName:""Andrew"",lastName:""Nelson"",department:""Professional Services"",title:""Consultant"",phoneNumber:""555-789-4560"",startDate:today()-30),a!map(firstName:""Michelle"",lastName:""Foster"",department:""HR"",title:""Director"",phoneNumber:""555-345-6789"",startDate:today()-30),a!map(firstName:""Laura"",lastName:""Bryant"",department:""Sales"",title:""Sales Associate"",phoneNumber:""555-987-6543"",startDate:today()-14),a!map(firstName:""William"",lastName:""Ross"",department:""Engineering"",title:""Software Engineer"",phoneNumber:""555-123-4567"",startDate:today()-10),a!map(firstName:""Arya"",lastName:""Colson"",department:""Sales"",title:""Sales Associate"",phoneNumber:""555-927-3343"",startDate:today()-5)}),/*ThisvaluegetsupdatedwhentheuserclicksonthePUBLISHDATAbuttoninordertodisableitsotheusercan't click it multiple times. */
  local!submitted: false,
  /* The refresh variable watches local!submitted and reruns the query when it changes. */
  local!datasubset: a!refreshVariable(
    value: a!queryEntity(
      entity: cons!EMPLOYEE_ENTITY,
      query: a!query(
        pagingInfo: a!pagingInfo(
          startIndex: 1,
          batchSize: -1,
          sort: a!sortInfo(field: ""id"", ascending: true)
        )
      ),
      fetchTotalCount: true
    ),
    refreshOnVarChange: local!submitted
  ),
  local!hasData: not(local!datasubset.totalCount=0),
  a!sectionLayout(
    contents: {
      a!buttonLayout(
        secondaryButtons:{
          a!buttonWidget(
            label: if(local!hasData, ""DataAlreadyPublished"", ""PublishData""),
            saveInto: {
              a!writeToDataStoreEntity(
                dataStoreEntity: cons!EMPLOYEE_ENTITY,
                valueToStore: local!dataToLoad,
                /* Since the writeToDataStoreEntity function doesn'tchangevaluesintheinterface,weaddanadditionalsavetoupdatealocalvariablesothethequeryinlocal!datasubsetrunsagain.*/onSuccess:a!save(local!submitted,true))},submit:true,style:""PRIMARY"",disabled:or(local!hasData,local!submitted))}),a!gridField(label:""DATA TO WRITE"",labelPosition:""ABOVE"",data:local!dataToLoad,columns:{a!gridColumn(label:""ID"",value:if(isnull(fv!row.id),""N/A"",fv!row.id)),a!gridColumn(label:""First Name"",value:fv!row.firstName),a!gridColumn(label:""Last Name"",value:fv!row.lastName),a!gridColumn(label:""Department"",value:fv!row.department),a!gridColumn(label:""Title"",value:fv!row.title),a!gridColumn(label:""Phone Number"",value:fv!row.phoneNumber),a!gridColumn(label:""Start Date"",value:fv!row.startDate)},validations:{},showWhen:local!datasubset.totalCount=0),a!gridField(label:""DATA WRITTEN"",labelPosition:""ABOVE"",data:a!queryEntity(entity:cons!EMPLOYEE_ENTITY,query:a!query(pagingInfo:fv!pagingInfo),fetchTotalCount:true),columns:{a!gridColumn(label:""ID"",value:fv!row.id),a!gridColumn(label:""First Name"",value:fv!row.firstName),a!gridColumn(label:""Last Name"",value:fv!row.lastName),a!gridColumn(label:""Department"",value:fv!row.department),a!gridColumn(label:""Title"",value:fv!row.title),a!gridColumn(label:""Phone Number"",value:fv!row.phoneNumber),a!gridColumn(label:""Start Date"",value:fv!row.startDate)},initialSorts:a!sortInfo(""id"",true),showWhen:not(local!datasubset.totalCount=0))}))"
48,"When using a dropdown to select values from the database, or generally from an array of CDT values, configure it to save the entire CDT value rather than just a single field.","a!localVariables(local!foodTypes:{a!map(id:1,name:""Fruits""),a!map(id:2,name:""Vegetables"")},local!selectedFoodType,a!formLayout(label:""Example: Dropdown with CDT"",contents:{a!dropdownField(label:""Food Type"",instructions:""Value saved: ""&local!selectedFoodType,choiceLabels:index(local!foodTypes,""name"",null),placeholder:""--- Select Food Type ---"",/*choiceValuesgetstheCDT/dictionaryratherthantheids*/choiceValues:local!foodTypes,value:local!selectedFoodType,saveInto:local!selectedFoodType)},buttons:a!buttonLayout(primaryButtons:a!buttonWidget(label:""Submit"",submit:true))))"
49,"Using a dropdown, filter the results of a data set while also adjusting a chart reference line.","a!localVariables(local!selectedDepartment:""Engineering"",local!data:{a!map(department:""Engineering"",quarter:""2015-Q1"",spent:15804),a!map(department:""Engineering"",quarter:""2015-Q2"",spent:13432),a!map(department:""Engineering"",quarter:""2015-Q3"",spent:23400),a!map(department:""Engineering"",quarter:""2015-Q4"",spent:15900),a!map(department:""Engineering"",quarter:""2016-Q1"",spent:12004),a!map(department:""Engineering"",quarter:""2016-Q2"",spent:13901),a!map(department:""Engineering"",quarter:""2016-Q3"",spent:14142),a!map(department:""Engineering"",quarter:""2016-Q4"",spent:17980),a!map(department:""Engineering"",quarter:""2017-Q1"",spent:13822),a!map(department:""Engineering"",quarter:""2017-Q2"",spent:11053),a!map(department:""Engineering"",quarter:""2017-Q3"",spent:16607),a!map(department:""Engineering"",quarter:""2017-Q4"",spent:15449),a!map(department:""Professional Services"",quarter:""2015-Q1"",spent:18883),a!map(department:""Professional Services"",quarter:""2015-Q2"",spent:22904),a!map(department:""Professional Services"",quarter:""2015-Q3"",spent:19192),a!map(department:""Professional Services"",quarter:""2015-Q4"",spent:20043),a!map(department:""Professional Services"",quarter:""2016-Q1"",spent:17790),a!map(department:""Professional Services"",quarter:""2016-Q2"",spent:24405),a!map(department:""Professional Services"",quarter:""2016-Q3"",spent:21031),a!map(department:""Professional Services"",quarter:""2016-Q4"",spent:25787),a!map(department:""Professional Services"",quarter:""2017-Q1"",spent:17401),a!map(department:""Professional Services"",quarter:""2017-Q2"",spent:19903),a!map(department:""Professional Services"",quarter:""2017-Q3"",spent:18400),a!map(department:""Professional Services"",quarter:""2017-Q4"",spent:20801),a!map(department:""Sales"",quarter:""2015-Q1"",spent:29990),a!map(department:""Sales"",quarter:""2015-Q2"",spent:32063),a!map(department:""Sales"",quarter:""2015-Q3"",spent:24504),a!map(department:""Sales"",quarter:""2015-Q4"",spent:24994),a!map(department:""Sales"",quarter:""2016-Q1"",spent:26803),a!map(department:""Sales"",quarter:""2016-Q2"",spent:37400),a!map(department:""Sales"",quarter:""2016-Q3"",spent:27880),a!map(department:""Sales"",quarter:""2016-Q4"",spent:22904),a!map(department:""Sales"",quarter:""2017-Q1"",spent:32701),a!map(department:""Sales"",quarter:""2017-Q2"",spent:27032),a!map(department:""Sales"",quarter:""2017-Q3"",spent:28443),a!map(department:""Sales"",quarter:""2017-Q4"",spent:23940)},local!selectedData:index(local!data,wherecontains(local!selectedDepartment,touniformstring(local!data.department)),null/*Returnnothingiftheselecteddepartmentisn't in the list */
  ), 
  {
    a!sectionLayout(
      contents: {
        a!dropdownField(
          label: ""Department"",
          choiceLabels: {""Engineering"", ""ProfessionalServices"", ""Sales""},
          choiceValues: {""Engineering"", ""ProfessionalServices"", ""Sales""},
          value: local!selectedDepartment,
          saveInto: local!selectedDepartment
        ),
        a!lineChartField(
          label: ""MoneySpentperQuarter"",
          categories: local!data.quarter,
          series: a!chartSeries(data: local!selectedData.spent),
          xAxisTitle: ""Quarter"",
          yAxisTitle: ""AmountSpent(in$)"",
          referenceLines: {
            a!chartReferenceLine(
              label: ""100%Budget"",
              value: if(
                local!selectedDepartment = ""Engineering"",
                18000,
                if(
                  local!selectedDepartment = ""ProfessionalServices"",
                  21000,
                  30000
                )
              ),
              color: ""ORANGE""
            ),
            a!chartReferenceLine(
              label: ""125%Budget"",
              value: if(
                local!selectedDepartment = ""Engineering"",
                22500,
                if(
                  local!selectedDepartment = ""ProfessionalServices"",
                  26250,
                  37500
                )
              ),
              color: ""RED"",
              style: ""DASHDOT""
            )
          },
          showLegend: false
        )
      }
    )
  }
)
"
50,Display a grid populated based on search criteria specified by end users.,"a!localVariables(/*Inarealapp,thesevaluesshouldbeheldinthedatabaseorinaconstant.*/local!allDepartments:{""Corporate"",""Engineering"",""Finance"",""HR"",""Professional Services"",""Sales""},/*Theselocalvariablesstorefiltervalues.*/local!lastName,local!title,local!department,/*Thevalueofthisvariableisfalseifanyofthefiltervariablesarenotnull.*/local!noFiltersApplied:all(fn!isnull,{local!lastName,local!title,local!department}),a!sectionLayout(contents:{a!columnsLayout(columns:{a!columnLayout(contents:{/*RefreshingafterKEYPRESSmeansthefilterisappliedtothegrideverytimetheuserpressesakey.Forlargedatasetswhereperformanceisanissue,youcouldrefreshaftertheuserleavesthefield(UNFOCUS).*/a!textField(label:""Last Name"",value:local!lastName,saveInto:local!lastName,refreshAfter:""KEYPRESS""),a!textField(label:""Title"",value:local!title,saveInto:local!title,refreshAfter:""KEYPRESS""),a!dropdownField(label:""Department"",placeholder:""All Departments"",choiceLabels:local!allDepartments,choiceValues:local!allDepartments,value:local!department,saveInto:local!department),a!buttonLayout(primaryButtons:{a!buttonWidget(label:""Clear"",saveInto:{local!lastName,local!title,local!department},disabled:local!noFiltersApplied)})}),a!columnLayout(contents:{a!gridField(label:""Read-only Grid"",labelPosition:""ABOVE"",data:a!queryEntity(entity:cons!EMPLOYEE_ENTITY,query:a!query(selection:a!querySelection(columns:{a!queryColumn(field:""lastName""),a!queryColumn(field:""title""),a!queryColumn(field:""department"")}),logicalExpression:a!queryLogicalExpression(operator:""AND"",filters:{/*The'includes'operatorcomparesstringsandwillreturnpartialmatches,whichishowmostsearchingfilterswork.Thefilterwillalsoreevaluateanytimetheassociatedlocalvariableschange.Touseabuttontosearchinstead,makesurethesearchstringsavestoadifferentlocalvariablefirst.*/a!queryFilter(field:""lastName"",operator:""includes"",value:local!lastName),a!queryFilter(field:""title"",operator:""includes"",value:local!title),a!queryFilter(field:""department"",operator:""="",value:local!department)},ignoreFiltersWithEmptyValues:true),pagingInfo:fv!pagingInfo),fetchTotalCount:true),columns:{a!gridColumn(label:""Last Name"",sortField:""lastName"",value:fv!row.lastName),a!gridColumn(label:""Title"",sortField:""title"",value:fv!row.title),a!gridColumn(label:""Department"",sortField:""department"",value:fv!row.department)},pagesize:5,initialsorts:a!sortInfo(field:""lastName"",ascending:true))})})}))"
51,Display calculated values in columns in a grid.,"a!gridField(label:""Performance Review Schedule"",labelPosition:""ABOVE"",data:recordType!Employee,columns:{a!gridColumn(label:""Name"",sortField:recordType!Employee.fields.firstName,/*Inthevalueparameter,weusedfv!rowwitharecordtypefield*referencetopullinthefirstnameandlastnamefields.Then*usedampersand(&)toconcatenatebothfieldstogetherintoa*singlevalue.*/value:fv!row[recordType!Employee.fields.firstName]&"" ""&fv!row[recordType!Employee.fields.lastName]),a!gridColumn(label:""Department"",sortField:recordType!Employee.fields.department,value:fv!row[recordType!Employee.fields.department]),a!gridColumn(label:""Title"",sortField:recordType!Employee.fields.title,value:fv!row[recordType!Employee.fields.title]),a!gridColumn(label:""Next Performance Review"",sortField:recordType!Employee.fields.startDate,/*Weusedlocalvariablestostorethevalueoftheemployee's 
       * start month and start day. Then used the date() function to 
       * calculate the next review time based on the start date 
       * returned when using fv!row with a record type field to  
       * reference each employee'sstartdate.*/value:a!localVariables(local!startMonth:month(fv!row[recordType!Employee.fields.startDate]),local!startDay:day(fv!row[recordType!Employee.fields.startDate]),if(and(local!startMonth<=month(today()),local!startDay<=day(today())),date(1+year(today()),local!startMonth,local!startDay),date(year(today()),local!startMonth,local!startDay))),align:""END"")},pagesize:10,showRefreshButton:true,showExportButton:true,refreshAfter:""RECORD_ACTION"",/*Weaddedthe""Add New Employee""recordactiontothegridfortesting*only.Thisrecordactionwasconfiguredintherecordtypeandbrought*intothegrid.*/recordActions:{a!recordActionItem(action:recordType!Employee.actions.addNewEmployee)})"
52,"Aggregate data, specifically the total number of employees for each title in the Engineering department, to display in a bar chart.","{a!barChartField(data:a!recordData(recordType:recordType!Employee,filters:a!queryLogicalExpression(operator:""AND"",filters:{a!queryFilter(field:recordType!Employee.fields.department,operator:""="",value:""Engineering"")},ignoreFiltersWithEmptyValues:true)),config:a!barChartConfig(primaryGrouping:a!grouping(field:recordType!Employee.fields.title,alias:""title_primaryGrouping""),measures:{a!measure(label:""Total"",function:""COUNT"",field:recordType!Employee.fields.id,alias:""id_count_measure1"")},dataLimit:100),label:""Bar Chart"",labelPosition:""ABOVE"",stacking:""NONE"",showLegend:true,showTooltips:true,colorScheme:""OCEAN"",height:""MEDIUM"",xAxisStyle:""STANDARD"",yAxisStyle:""STANDARD"",refreshAfter:""RECORD_ACTION"")}"
53,Display the tasks for a user in a Read-Only Grid and allow them to click on a task to navigate to the task itself.,"a!localVariables(local!pagingInfo:a!pagingInfo(startIndex:1,batchSize:-1),local!report:a!queryProcessAnalytics(report:cons!UC_TASKS_FOR_USER_REPORT,query:a!query(pagingInfo:local!pagingInfo)),a!gridField(label:local!report.name,instructions:local!report.description,data:local!report.data,columns:a!forEach(items:local!report.columnConfigs,expression:a!gridColumn(label:fv!item.label,sortField:fv!item.field,align:if(fv!item.configuredFormatting=""DATE_TIME"",""END"",""START""),value:if(fv!item.configuredFormatting=""TASK_STATUS"",index({""Assigned"",""Accepted"",""Completed"",""Not Started"",""Cancelled"",""Paused"",""Unattended"",""Aborted"",""Cancelled By Exception"",""Submitted"",""Running"",""Error""},/*Taskstatusidsstartwith0,soaddonetoreachthefirstindex*/tointeger(index(fv!row,tointeger(fv!item.field)+1,-1)),""Other""),if(fv!item.configuredDrilldown=""TASK_DETAILS"",a!linkField(links:a!processTaskLink(label:index(fv!row,fv!item.field,{}),task:index(fv!row,fv!item.drilldownField,{}))),index(fv!row,fv!item.field,{}))))),rowHeader:1,pageSize:20))"
54,This pattern illustrates how to create a bar chart that shows sales per sales region.,"{a!barChartField(data:'recordType!{c25947c0-2230-41cb-86a6-bd86d14d0af9}Sales Region',config:a!barChartConfig(primaryGrouping:a!grouping(field:'recordType!{c25947c0-2230-41cb-86a6-bd86d14d0af9}Sales Region.relationships.{0ea75675-bc93-491c-8cc2-3c74668c96d3}country.fields.{85846423-5eb5-46c0-ac1a-263e4f522be7}name',alias:""name_primaryGrouping""),measures:{a!measure(label:""YTD"",function:""SUM"",field:'recordType!{c25947c0-2230-41cb-86a6-bd86d14d0af9}Sales Region.relationships.{91b8d190-173e-407a-bf9b-e42e8e32a437}order.relationships.{0bde4028-fd7a-411f-97ad-7ad5b84e0d18}orderDetail.fields.{db456082-5f77-4765-bc3e-f662651e0d52}lineTotal',filters:a!queryLogicalExpression(operator:""AND"",filters:{a!queryFilter(field:'recordType!{bec4a875-9980-4bbf-a38c-c492ebed065a}Order Detail.relationships.{e6b1dbca-6c3c-4540-a093-3c581a73ad17}order.fields.{fbcc99f6-1ddf-4923-903b-18122a1737c6}orderDate',operator:""between"",value:/*Year-to-Date*/{datetime(year(today()),1,1),now()})},ignoreFiltersWithEmptyValues:true),alias:""ytd""),a!measure(label:""LY YTD"",function:""SUM"",field:'recordType!{c25947c0-2230-41cb-86a6-bd86d14d0af9}Sales Region.relationships.{91b8d190-173e-407a-bf9b-e42e8e32a437}order.relationships.{0bde4028-fd7a-411f-97ad-7ad5b84e0d18}orderDetail.fields.{db456082-5f77-4765-bc3e-f662651e0d52}lineTotal',filters:a!queryLogicalExpression(operator:""AND"",filters:{a!queryFilter(field:'recordType!{bec4a875-9980-4bbf-a38c-c492ebed065a}Order Detail.relationships.{e6b1dbca-6c3c-4540-a093-3c581a73ad17}order.fields.{fbcc99f6-1ddf-4923-903b-18122a1737c6}orderDate',operator:""between"",value:/*PreviousYear-to-Date(FromBeginningofLastYeartoTodayLastYear)*/{datetime(year(today())-1,1,1),edate(today(),-12)+(now()-today())})},ignoreFiltersWithEmptyValues:true),alias:""lytd"")},sort:{a!sortInfo(field:""ytd"")},dataLimit:100),label:""Sales by Region"",labelPosition:""ABOVE"",stacking:""NONE"",showLegend:true,showTooltips:true,colorScheme:""MIDNIGHT"",height:""MEDIUM"",xAxisStyle:""STANDARD"",yAxisStyle:""NONE"",refreshAfter:""RECORD_ACTION"")}"
55,Present two buttons to the end user and only make certain fields required if the user clicks a particular button,"a!localVariables(/**AlloftheselocalvariablescouldbecombinedintotheemployeeCDTandpassedinto*aprocessmodelviaaruleinput*/local!firstName,local!lastName,local!department,local!title,local!phoneNumber,local!startDate,/**local!isFutureHireisaplaceholdervariableusedtosetthevalidationgrouptrigger.*WhenisFutureHireissettotrue,ausercanskipphonenumberandstartdate.*/local!isFutureHire,a!formLayout(label:""Example: Add Employee with Conditional Requiredness"",contents:{a!textField(label:""First Name"",value:local!firstName,saveInto:local!firstName,required:true),a!textField(label:""Last Name"",value:local!lastName,saveInto:local!lastName,required:true),a!dropdownField(label:""Department"",placeholder:""-- Select a Department -- "",choiceLabels:{""Corporate"",""Engineering"",""Finance"",""Human Resources"",""Professional Services"",""Sales""},choiceValues:{""Corporate"",""Engineering"",""Finance"",""Human Resources"",""Professional Services"",""Sales""},value:local!department,saveInto:local!department,required:true),a!textField(label:""Title"",value:local!title,saveInto:local!title,required:true),/**Whenafieldhasavalidationgroupset,therequiredparameterandanyvalidations*aredeferreduntilthevalidationgroupistriggeredbyabuttonorlink.*/a!textField(label:""Phone Number"",placeholder:""555-456-7890"",value:local!phoneNumber,saveInto:local!phoneNumber,required:true,requiredMessage:""A phone number is needed if you'regoingtoonboardthisemployee"",
        validationGroup:""Future_Hire""
      ),
     a!dateField(
        label: ""StartDate"",
        value: local!startDate,
        saveInto: local!startDate,
        required:true,
        requiredMessage:""Astartdateisneededifyou're going to onboard this employee"",validationGroup:""Future_Hire"")},buttons:a!buttonLayout(primaryButtons:{a!buttonWidget(label:""Submit Future Onboarding"",style:""SECONDARY"",value:true,saveInto:local!isFutureHire,submit:true),a!buttonWidget(label:""Onboard Employee Now"",value:false,saveInto:local!isFutureHire,submit:true,validationGroup:""Future_Hire"")})))"
56,Display a column chart with a toggle to display an alternate grid view of the data.,"a!localVariables(local!ticketData:{a!map(month:""January"",internalTickets:32,customerTickets:41),a!map(month:""February"",internalTickets:16,customerTickets:38),a!map(month:""March"",internalTickets:21,customerTickets:37),a!map(month:""April"",internalTickets:31,customerTickets:20),a!map(month:""May"",internalTickets:33,customerTickets:47),a!map(month:""June"",internalTickets:9,customerTickets:22),a!map(month:""July"",internalTickets:2,customerTickets:16),a!map(month:""August"",internalTickets:11,customerTickets:29),a!map(month:""September"",internalTickets:5,customerTickets:0),a!map(month:""October"",internalTickets:71,customerTickets:10),a!map(month:""November"",internalTickets:4,customerTickets:13),a!map(month:""December"",internalTickets:5,customerTickets:21)},/*ThisvariableisreferencedintheshowWhenparametersofboththegridandthechart.*/local!showAsGrid:false,{a!linkField(links:{/*Thenot()functionsimplyinvertsatrueorfalsevalue,makingforasimpletoggle.*/a!dynamicLink(label:""View data as a ""&if(local!showAsGrid,""chart"",""grid""),value:not(local!showAsGrid),saveInto:local!showAsGrid)}),if(local!showAsGrid,a!gridField(label:""Logged Defect Tickets"",data:local!ticketData,columns:{a!gridColumn(label:""Month"",value:fv!row.month),a!gridColumn(label:""Internal Tickets"",value:fv!row.internalTickets,align:""END"",width:""NARROW_PLUS""),a!gridColumn(label:""Customer Tickets"",value:fv!row.customerTickets,align:""END"",width:""NARROW_PLUS""),a!gridColumn(label:""Total Tickets"",value:fv!row.internalTickets+fv!row.customerTickets,align:""END"",width:""NARROW_PLUS"")},pageSize:12),a!columnChartField(label:""Logged Defect Tickets"",categories:left(local!ticketData.month,3),series:{a!chartSeries(label:""Internal"",data:local!ticketData.internalTickets),a!chartSeries(label:""Customer"",data:local!ticketData.customerTickets)},colorScheme:""PARACHUTE"",yAxisTitle:""Number of Tickets"",stacking:""NORMAL"",showLegend:true))})"
57,"Aggregate data by multiple fields and display it in a stacked column chart. In this pattern, we will calculate the total number of employees for each title in each department and display it in a stacked column chart.","a!columnChartField(data:recordType!Employee,config:a!columnChartConfig(primaryGrouping:a!grouping(field:recordType!Employee.fields.department,alias:""department_primaryGrouping""),secondaryGrouping:a!grouping(field:recordType!Employee.fields.title,alias:""title_secondaryGrouping""),measures:{a!measure(function:""COUNT"",field:recordType!Employee.fields.id,alias:""id_count_measure1"")},dataLimit:100),label:""Column Chart"",xAxisTitle:""Department"",yAxisTitle:""Number of Employees"",stacking:""NORMAL"",showLegend:true,showTooltips:true,labelPosition:""ABOVE"",colorScheme:""CLASSIC"",height:""MEDIUM"",xAxisStyle:""STANDARD"",yAxisStyle:""STANDARD"")"
58,"Display the last time the interface was updated, either based on a user interaction or a timer.","=a!localVariables(/*Thisrefreshvariablerefreshesevery30secondstoreturnthedatafromtheEmployeerecordtype.*/local!employees:a!refreshVariable(value:a!recordData(recordType!Employee),refreshInterval:0.5),/*Thisrefreshvariablereturnsthecurrenttimeusingthenow()function.Itissettorefreshwheneverlocal!employeeschanges.It's also set to 
     refresh every 30 seconds, because if local!employees refreshes, but the 
     data hasn'tchanged,thenthisrefreshvariablewouldn't know to 
     refresh. */
  local!lastUpdatedAt: a!refreshVariable(
    value: now(),
    refreshOnVarChange: local!employees,
    refreshInterval: 0.5
  ),
  a!sectionLayout(
    contents:{
      a!richTextDisplayField(
        labelposition: ""COLLAPSED"",
        value: {
          a!richTextItem(
            text: {
              ""Lastupdatedat"",
              text(local!lastUpdatedAt, ""h:mma"")
            },
            color: ""SECONDARY"",
            style: ""EMPHASIS""
          )
        },
        align: ""RIGHT""
      ),
      a!gridField(
        label: ""Employees"",
        /* The recordData() function is external to the grid so it can be 
           referenced by the refresh variable in local!lastUpdatedAt. */
        data:  local!employees,
        columns: {
          a!gridColumn(
            label: ""FirstName"",
            sortField: recordType!Employee.fields.firstName,
            value: fv!row[recordType!Employee.fields.firstName]
          ),
          a!gridColumn(
            label: ""LastName"",
            sortField: recordType!Employee.fields.lastName,
            value: fv!row[recordType!Employee.fields.lastName]
          ),
          a!gridColumn(
            label: ""Department"",
            sortField: ""department"",
            value: fv!row[recordType!Employee.fields.department]
          ),
          a!gridColumn(
            label: ""Title"",
            sortField: recordType!Employee.fields.title,
            value: fv!row[recordType!Employee.fields.title]
          ),
          a!gridColumn(
            label: ""PhoneNumber"",
            value: fv!row[recordType!Employee.fields.phoneNumber]
          ),
          a!gridColumn(
            label: ""StartDate"",
            sortField: recordType!Employee.fields.startDate,
            value: fv!row[recordType!Employee.fields.startDate]
          )
        },
        rowHeader: 1
      )
    }
  )
)
"
59,Use a refresh interval to display the results of an asynchronous action automatically.,"=a!localVariables(local!testRunId,local!error,local!testRunStatus:a!refreshVariable(value:if(isnull(local!testRunId),null,a!testRunStatusForId(local!testRunId)),refreshInterval:if(or(isnull(fv!value),fv!value=""COMPLETE""),null,0.5)),local!testRunResults:if(local!testRunStatus=""COMPLETE"",a!testRunResultForId(local!testRunId),null),{a!buttonLayout(secondaryButtons:{a!buttonWidget(label:""Run System Test"",size:""SMALL"",saveInto:{a!startRuleTestsAll(onSuccess:{a!save(local!testRunId,fv!testRunId)},onError:{a!save(local!error,""Could not execute test."")})})}),a!sectionLayout(label:""Summary""&if(isnull(local!testRunResults),null,"" - ""&local!testRunResults.type),showWhen:not(isnull(local!testRunId)),contents:{a!columnsLayout(columns:{a!columnLayout(contents:{a!textField(label:""Test-run ID"",labelPosition:""ADJACENT"",value:local!testRunId,readOnly:true),a!richTextDisplayField(label:""Status"",labelPosition:""ADJACENT"",value:if(local!testRunStatus=""COMPLETE"",if(local!testRunResults.status=""ERROR"",{a!richTextImage(image:a!documentImage(document:a!iconIndicator(""STATUS_ERROR""))),""One or more tests encountered an error""},local!testRunResults.status=""FAIL"",{a!richTextImage(image:a!documentImage(document:a!iconIndicator(""STATUS_NOTDONE""))),""One or more test case assertions failed""},{a!richTextImage(image:a!documentImage(document:a!iconIndicator(""STATUS_OK""))),""All test case assertions passed""}),{a!richTextImage(image:a!documentImage(document:a!iconIndicator(""PROGRESS_RUNNING""))),""In progress""}))}),a!columnLayout(contents:{a!pieChartField(labelPosition:""COLLAPSED"",series:{a!chartSeries(label:""Passed"",data:local!testRunResults.passCount,color:""GREEN""),a!chartSeries(label:""Failed"",data:local!testRunResults.failureCount,color:""YELLOW""),a!chartSeries(label:""Error"",data:local!testRunResults.errorCount,color:""RED"")},showDataLabels:true,showWhen:not(isnull(local!testRunResults)))})})})})"
60,Allow users to choose from a long text array using an auto-completing picker.,"a!localVariables(local!matches:where(a!forEach(items:ri!labels,expression:search(ri!filter,fv!item))),a!dataSubset(data:index(ri!labels,local!matches),identifiers:index(ri!identifiers,local!matches)))"
61,"Format the user's input as a telephone number in the US and save the formatted value, not the user's input.","a!localVariables(local!telephone,a!textField(label:""Employee Telephone Number"",instructions:""Value saved: ""&local!telephone,value:local!telephone,saveInto:a!save(local!telephone,text(save!value,""###-###-####;###-###-####""))))"
62,"Configure a user filter for your read-only grid that uses a record type as the data source. When the user selects a value to filter by, update the grid to show the result.","a!localVariables(/*Inyourapplication,replacethevaluesusedinlocal!titleswitha*constantthatstoresthefiltervaluesyouwanttouseinyourgrid.*Thenusecons!<constantname>toreferencetheconstantin*local!titles.*/local!titles:{""Analyst"",""Consultant"",""Director"",""Manager"",""Sales Associate"",""Software Engineer""},/*Usealocalvariabletoholdthenameofthetitlefiltertheuser*selectsinthefilterdropdown.Thisexample,uses*local!selectedTitle*/local!selectedTitle,a!sectionLayout(contents:{a!columnsLayout(columns:{a!columnLayout(contents:{a!richTextDisplayField(label:"""",labelPosition:""COLLAPSED"",value:{a!richTextItem(/*Weusedampersand(&)toconcatenatethetitle*textwewanttodisplayatthetopofthegrid.*Whentheuserselectsatitlefilterinthe*dropdownlist,thegridwilldisplay""ALL 
                        * <local!selectedTitle> EMPLOYEES"".Ifnofilter*isselected,thegrid*willdisplay""ALL 
                        * EMPLOYEES"".*/text:{""All""&"" ""&if(isnull(local!selectedTitle),""EMPLOYEE"",upper(local!selectedTitle))&""S""},size:""MEDIUM_PLUS"",style:{""STRONG""})}),a!dropdownField(label:""Title"",labelPosition:""ABOVE"",placeholder:""-- Filter By Title --"",choiceLabels:local!titles,choiceValues:local!titles,value:local!selectedTitle,saveInto:local!selectedTitle)},width:""MEDIUM"")}),a!gridField(labelPosition:""ABOVE"",data:a!recordData(recordType:recordType!Employee,filters:a!queryFilter(field:recordType!Employee.fields.title,operator:if(isnull(local!selectedTitle),""not null"",""=""),value:local!selectedTitle)),columns:{a!gridColumn(label:""Name"",sortField:recordType!Employee.fields.lastName,value:a!linkField(links:a!recordLink(label:fv!row[recordType!Employee.fields.firstName]&"" ""&fv!row[recordType!Employee.fields.lastName],recordType:{recordType!Employee},identifier:fv!row[recordType!Employee.fields.lastName])),width:""1X""),a!gridColumn(label:""Title"",sortField:recordType!Employee.fields.title,value:fv!row[recordType!Employee.fields.title],width:""1X""),a!gridColumn(label:""Department"",sortField:recordType!Employee.fields.department,value:fv!row[recordType!Employee.fields.department],width:""1X"")},pageSize:10,showSearchBox:false,showRefreshButton:false,)}))"
63,"Allows the user to change data directly in a grid, and validate a various entries.","a!localVariables(/**local!employeesisprovidedinthisrecipeasawaytostartwithhard-coded*data.However,thisdataisidenticaltothedatacreatedfromtheentity-backed*tutorial.Replacethehard-codeddatawithaquerytotheemployeedatastore*entityandalloftheemployeerecordsfromthetutorialwillappear.**Toreplacethisdatawithyourown,replace(ctrl+Horcmd+H)allreferencesto*local!employeeswithyourdatasource,eitherviaruleinputorlocalvariable.*/local!employees:{a!map(id:1,firstName:""John"",lastName:""Smith"",department:""Engineering"",title:""Director"",phoneNumber:""555-123-4567"",startDate:today()-360),a!map(id:2,firstName:""Michael"",lastName:""Johnson"",department:""Finance"",title:""Analyst"",phoneNumber:""555-987-6543"",startDate:today()-360),a!map(id:3,firstName:""Mary"",lastName:""Reed"",department:""Engineering"",title:""Software Engineer"",phoneNumber:""555-456-0123"",startDate:today()-240),},a!formLayout(label:""Add or Update Employee Data"",instructions:""Add, edit, or remove Employee data in an inline editable grid"",contents:{a!gridLayout(totalCount:count(local!employees),headerCells:{a!gridLayoutHeaderCell(label:""First Name""),a!gridLayoutHeaderCell(label:""Last Name""),a!gridLayoutHeaderCell(label:""Department""),a!gridLayoutHeaderCell(label:""Title""),a!gridLayoutHeaderCell(label:""Phone Number""),a!gridLayoutHeaderCell(label:""Start Date"",align:""RIGHT""),/*Forthe""Remove""column*/a!gridLayoutHeaderCell(label:"""")},/*Onlyneededwhensomecolumnsneedtobenarrow*/columnConfigs:{a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:3),a!gridLayoutColumnConfig(width:""DISTRIBUTE"",weight:2),a!gridLayoutColumnConfig(width:""ICON"")},/**a!forEach()willtakelocal!employeedataandusedthatdatatoloopthroughan*expressionthatcreateseachrow.**Whenmodifyingtherecipetoworkwithyourdata,youonlyneedtochange:*1.)thenumberoffieldsineachrow*2.)thetypesoffieldsforeachcolumn(i.e.a!textField()fortextdataelements)*3.)thefv!itemelements.Forexamplefv!item.firstNamewouldchangetofv!item.yourdata*/rows:a!forEach(items:local!employees,expression:a!gridRowLayout(contents:{/*FortheFirstNameColumn*/a!textField(/*Labelsarenotvisibleingridcellsbutarenecessarytomeetaccessibilityrequirements*/label:""first name ""&fv!index,value:fv!item.firstName,saveInto:fv!item.firstName,required:true),/*FortheLastNameColumn*/a!textField(label:""last name ""&fv!index,value:fv!item.lastName,saveInto:fv!item.lastName,required:true),/*FortheDepartmentColumn*/a!dropdownField(label:""department ""&fv!index,placeholder:""-- Select -- "",choiceLabels:{""Corporate"",""Engineering"",""Finance"",""Human Resources"",""Professional Services"",""Sales""},choiceValues:{""Corporate"",""Engineering"",""Finance"",""Human Resources"",""Professional Services"",""Sales""},value:fv!item.department,saveInto:fv!item.department,required:true),/*FortheTitleColumn*/a!textField(label:""title ""&fv!index,value:fv!item.title,saveInto:fv!item.title,required:true),/*ForthePhoneNumberColumn*/a!textField(label:""phone number ""&fv!index,placeholder:""555-456-7890"",value:fv!item.phoneNumber,saveInto:fv!item.phoneNumber,validations:if(len(fv!item.phoneNumber)>12,""Contains more than 12 characters. Please reenter phone number, and include only numbers and dashes"",null)),/*FortheStartDateColumn*/a!dateField(label:""start date ""&fv!index,value:fv!item.startDate,saveInto:fv!item.startDate,required:true,validations:if(and(isnull(fv!item.id),todate(fv!item.startDate)<today()),""This Employee cannot have a start date before today."",null),align:""RIGHT""),/*FortheRemovalColumn*/a!richTextDisplayField(value:a!richTextIcon(icon:""close"",altText:""delete ""&fv!index,caption:""Remove ""&fv!item.firstName&"" ""&fv!item.lastName,link:a!dynamicLink(value:fv!index,saveInto:{a!save(local!employees,remove(local!employees,save!value))}),linkStyle:""STANDALONE"",color:""NEGATIVE""))},id:fv!index)),addRowlink:a!dynamicLink(label:""Add Employee"",/**Foryourusecase,setthevaluetoablankinstanceofyourCDTusing*thetypeconstructor,e.g.type!Employee().Onlyspecifythefield*ifyouwanttogiveitadefaultvaluee.g.startDate:today()+1.*/value:{startDate:today()+1},saveInto:{a!save(local!employees,append(local!employees,save!value))}),/*Thisvalidationpreventsexistingemployeestartdatefromchangingtoadateinthefuture*/validations:if(a!forEach(items:local!employees,expression:and(not(isnull(fv!item.id)),todate(fv!item.startDate)>today())),""Existing Employees cannot have an effective start date beyond today"",null),rowHeader:1)},buttons:a!buttonLayout(primaryButtons:a!buttonWidget(label:""Submit"",submit:true))))"
64,"Allow end users to click a link in a read-only grid to view the details for the row, and make changes to the data. The data available for editing may include more fields than are displayed in the grid.","a!localVariables(/*Weloadtheemployeedataintothisvariable.Ifyouarepopulatingthisvariablewithaquery,youwouldput.dataattheendbeforepassingittothegrid.*/local!employees:{a!map(id:11,name:""Elizabeth Ward"",dept:""Engineering"",role:""Senior Engineer"",team:""Front-End Components"",pto:15,startDate:today()-500),a!map(id:22,name:""Michael Johnson"",dept:""Finance"",role:""Payroll Manager"",team:""Accounts Payable"",pto:2,startDate:today()-100),a!map(id:33,name:""John Smith"",dept:""Engineering"",role:""Quality Engineer"",team:""User Acceptance Testing"",pto:5,startDate:today()-1000),a!map(id:44,name:""Diana Hellstrom"",dept:""Engineering"",role:""UX Designer"",team:""User Experience"",pto:49,startDate:today()-1200),a!map(id:55,name:""Francois Morin"",dept:""Sales"",role:""Account Executive"",team:""Commercial North America"",pto:15,startDate:today()-700),a!map(id:66,name:""Maya Kapoor"",dept:""Sales"",role:""Regional Director"",team:""Front-End Components"",pto:15,startDate:today()-1400),a!map(id:77,name:""Anthony Wu"",dept:""Human Resources"",role:""Benefits Coordinator"",team:""Accounts Payable"",pto:2,startDate:today()-300),},/*local!teamListwouldnormallycomefromaconstantordatasource.*/local!teamList:{""Accounts Payable"",""User Acceptance Testing"",""User Experience"",""Commercial North America"",""Front-End Components""},/*Thisvariableisforstoringthegrid's selection. */
  local!selection,
  /* This variable is used to for the full row of data on the selected item
     to be passed to the details section of the interface. */
  local!selectedEmployee,
  local!readOnly: true,
  /* 
  *  You can view values of your local variables in the
  *  Local Variables pane on the right side of your interface, 
  *  so you can see you the changes being made to the data in realtime
  */
  {
    a!columnsLayout(
      columns: {
        a!columnLayout(
          contents: {
            a!sectionLayout(
              label: ""Employees"",
              contents: {
                a!gridField(
                  data: local!employees,
                  columns: {
                    a!gridColumn(
                      label: ""Name"",
                      value: fv!row.name
                    ),
                    a!gridColumn(
                      label: ""Team"",
                      value: fv!row.team
                    )
                  },
                  pageSize: 10,
                  selectable: true,
                  selectionStyle: ""ROW_HIGHLIGHT"",
                  selectionValue: local!selection,
                  selectionSaveInto: {
                    /* Using the index function to return the last-selected item ensures that
                       only one item will be selected at a time, regardless of how fast the user
                       clicks. */
                    a!save(local!selectedEmployee, index(fv!selectedRows, length(fv!selectedRows), null)),
                    /* We use the same method as above to limit the selection variable. */
                    a!save(local!selection, index(save!value, length(save!value), null))
                  },
                  shadeAlternateRows: false,
                  rowHeader: 1
                )
              }
            )
          }
        ),
        a!columnLayout(
          contents: {
            a!sectionLayout(
              label: ""Details"",
              contents: {
                a!richTextDisplayField(
                  value: a!richTextItem(
                    text: ""Noemployeeselected."",
                    color: ""SECONDARY"",
                    size: ""MEDIUM"",
                    style: ""EMPHASIS""
                  ),
                  showWhen: isnull(local!selection)
                ),
                a!columnsLayout(
                  columns: {
                    a!columnLayout(
                      contents: {
                        a!textField(
                          label: ""Name"",
                          value: local!selectedEmployee.name,
                          readOnly: true
                        ),
                        a!textField(
                          label: ""Department"",
                          value: local!selectedEmployee.dept,
                          readOnly: true
                        )
                      },
                      width: ""MEDIUM""
                    ),
                    a!columnLayout(
                      contents: {
                        /* In the following fields, we display from, and save to
                           local!selectedEmployee. */
                        a!textField(
                          label: ""Role"",
                          value: local!selectedEmployee.role,
                          saveInto: local!selectedEmployee.role,
                          readOnly: local!readOnly
                        ),
                        /* Because dropdown components can'tbereadOnly,weuseatextFieldtodisplaythevalueandanif()statementtoswapitoutforthedropdownwhenit's time to edit. */
                        if(
                          local!readOnly,
                          a!textField(
                            label: ""Team"",
                            value: local!selectedEmployee.team,
                            readOnly: true
                          ),
                          a!dropdownField(
                            label: ""Team"",
                            choiceLabels: local!teamList,
                            choiceValues: local!teamList,
                            value: local!selectedEmployee.team,
                            saveInto: local!selectedEmployee.team,
                            disabled: local!readOnly
                          )
                        ),
                        /* The link enables editing in the other components, and is hidden when
                           editing is enabled. */
                        a!linkField(
                          labelPosition: ""COLLAPSED"",
                          links: a!dynamicLink(
                            label: ""Reassign"",
                            value: false,
                            saveInto: local!readOnly
                          ),
                          showWhen: local!readOnly
                        )
                      },
                      width: ""WIDE""
                    )
                  },
                  showWhen: not(isnull(local!selection))
                )
              }
            ),
            a!buttonLayout(
              primaryButtons: {
                a!buttonWidget(
                  label: ""Update"",
                  value: local!selectedEmployee,
                  saveInto: {
                    /* When the user clicks UPDATE, we use the updatearray() function to update
                       local!employees with the new values in local!selectedEmployee. */
                    a!save(
                      local!employees,
                      updatearray(
                        local!employees,
                        where(tointeger(local!employees.id)=local!selectedEmployee.id),
                        local!selectedEmployee
                      )
                    ),
                    a!save(local!readOnly, true)
                  },
                  style: ""PRIMARY""
                )
              },
              secondaryButtons: {
                a!buttonWidget(
                  label: ""Cancel"",
                  value: true,
                  saveInto: {
                    local!readOnly,
                    /* If the user has made any changes to local!selectedEmployee, when they click
                       CANCEL, we need to reset local!selectedEmployee to previous values in local!employees
                       in order to keep the selectedEmployee details true. If you don'twanttopersisttheselection,youcansimplyresettheselectionsinsteadwith:a!save(local!selectedEmployee,null),a!save(local!selection,null)*/a!save(local!selectedEmployee,cast(typeof({a!map()}),/*Castingthevalueto""list of map""simplifiessubsequentinteractions.*/index(local!employees,where(tointeger(local!employees.id)=local!selectedEmployee.id),null)))},submit:true,style:""NORMAL"",validate:false)},showWhen:not(local!readOnly))})})})"
65,Set the value of a CDT field based on a user input.,"a!localVariables(local!myCdt:'type!{http://www.appian.com/ae/types/2009}LabelValue'(),a!formLayout(label:""Example: Default Value Based on User Input"",instructions:""local!myCdt: ""&local!myCdt,contents:{a!textField(label:""Label"",instructions:""Value saved: ""&local!myCdt.label,value:local!myCdt.label,saveInto:{local!myCdt.label,a!save(local!myCdt.value,append(save!value,""@example.com""))},refreshAfter:""KEYPRESS""),a!textField(label:""Value"",instructions:""Value saved: ""&local!myCdt.value,value:local!myCdt.value,saveInto:local!myCdt.value,refreshAfter:""KEYPRESS"")},buttons:a!buttonLayout(primaryButtons:a!buttonWidget(label:""Submit"",submit:true))))"
66,Enable users to make quick changes to a record by updating it right from a record view.,"a!localVariables(/*Inarealapp,thesevaluesshouldbeheldinthedatabaseorinaconstant*/local!departments:{""Corporate"",""Engineering"",""Finance"",""HR"",""Professional Services"",""Sales""},/**Employeedataisbeingpassedinviaaqueryandconverted*backtoCDT.**Touseyourdate,replacetheemployeelocalvariablewiththe*appropriatedataandupdatethecomponentfieldstofityour*CDTdatapoints.*/local!employee:cast('type!{urn:com:appian:types:Employee}Employee',a!queryEntity(entity:cons!EMPLOYEE_ENTITY,query:a!query(selection:a!querySelection(columns:{a!queryColumn(field:""id""),a!queryColumn(field:""firstName""),a!queryColumn(field:""lastName""),a!queryColumn(field:""department""),a!queryColumn(field:""title""),a!queryColumn(field:""phoneNumber""),a!queryColumn(field:""startDate"")}),/**Replacethehard-codedvalueof1withyourprimarykey*viaaruleinputtobringbackasinglerowofdata*/filter:a!queryFilter(field:""id"",operator:""="",value:1),pagingInfo:a!pagingInfo(1,1))).data),local!isTransfer:false,/*Usedtokeepchangesinasandbox.*/local!updatedEmployeeData,a!columnsLayout(columns:{a!columnLayout(contents:{a!textField(label:""First Name"",labelPosition:""ADJACENT"",value:local!employee.firstName,readOnly:true),a!textField(label:""Last Name"",labelPosition:""ADJACENT"",value:local!employee.lastName,readOnly:true),a!textField(label:""Phone Number"",labelPosition:""ADJACENT"",value:local!employee.phoneNumber,readOnly:true)}),a!columnLayout(contents:{if(local!isTransfer,{a!dropdownField(label:""New Department"",labelPosition:""ADJACENT"",choiceLabels:local!departments,choiceValues:local!departments,value:local!updatedEmployeeData.department,saveInto:local!updatedEmployeeData.department),a!textField(label:""New Title"",labelPosition:""ADJACENT"",required:true,value:local!updatedEmployeeData.title,saveInto:local!updatedEmployeeData.title)},{a!textField(label:""Department"",labelPosition:""ADJACENT"",value:local!employee.department,readOnly:true),a!textField(label:""Title"",labelPosition:""ADJACENT"",value:local!employee.title,readOnly:true)}),a!textField(label:""Start Date"",labelPosition:""ADJACENT"",value:text(local!employee.startDate,""mmm dd, yyyy""),readOnly:true),a!linkField(labelPosition:""ADJACENT"",links:a!dynamicLink(label:""Transfer employee"",value:true,saveInto:{local!isTransfer,a!save(local!updatedEmployeeData,local!employee)}),showWhen:not(local!isTransfer)),a!buttonLayout(primaryButtons:{a!buttonWidget(label:""Transfer"",validate:true,saveInto:{a!writeToDataStoreEntity(dataStoreEntity:cons!EMPLOYEE_ENTITY,valueToStore:local!employee,onSuccess:a!save(local!employee,local!updatedEmployeeData)),a!save(local!isTransfer,false)})},secondaryButtons:{a!buttonWidget(label:""Go Back"",value:false,saveInto:local!isTransfer)},showWhen:local!isTransfer)})}))"
